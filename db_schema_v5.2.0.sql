SET SERVEROUTPUT ON;
WHENEVER SQLERROR EXIT FAILURE;
WHENEVER OSERROR EXIT FAILURE;
--------------------------------------------------------
--  SESSIONS
--------------------------------------------------------
CREATE TABLE "SESSIONS"
(
	"SESSION_ID" NUMBER(9,0),
	"NAME" VARCHAR2(64 CHAR),
	"DELIVERY_DATE" DATE,
	"PERIODS" NUMBER(9,0),
	"NETWORK_TYPE" VARCHAR2(6 CHAR)
);
--------------------------------------------------------
ALTER TABLE "SESSIONS" ADD CONSTRAINT "SSN_PK" PRIMARY KEY ("SESSION_ID") ENABLE;
ALTER TABLE "SESSIONS" ADD CONSTRAINT "SSN_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "SESSIONS" ADD CONSTRAINT "SSN_SESSION_ID_CK" CHECK ("SESSION_ID" >= 0) ENABLE;
ALTER TABLE "SESSIONS" ADD CONSTRAINT "SSN_DELIVERY_DATE_NN" CHECK ("DELIVERY_DATE" IS NOT NULL) ENABLE;
ALTER TABLE "SESSIONS" ADD CONSTRAINT "SSN_PERIODS_NN" CHECK ("PERIODS" IS NOT NULL) ENABLE;
ALTER TABLE "SESSIONS" ADD CONSTRAINT "SSN_NETWORK_TYPE_NN" CHECK ("NETWORK_TYPE" IS NOT NULL) ENABLE;
ALTER TABLE "SESSIONS" ADD CONSTRAINT "SSN_NETWORK_TYPE_CK" CHECK ("NETWORK_TYPE" IN ('ATC', 'HYBRID', 'PTDF')) ENABLE;
--------------------------------------------------------
--  ALGORITHM_PARAMETERS
--------------------------------------------------------
CREATE TABLE "ALGORITHM_PARAMETERS"
(
	"SESSION_ID" NUMBER(9,0),
	"NAME" VARCHAR2(50 CHAR),
	"VALUE" NUMBER(18,9)
);
--------------------------------------------------------
ALTER TABLE "ALGORITHM_PARAMETERS" ADD CONSTRAINT "PRM_PK" PRIMARY KEY ("SESSION_ID", "NAME") ENABLE;
ALTER TABLE "ALGORITHM_PARAMETERS" ADD CONSTRAINT "PRM_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_PARAMETERS" ADD CONSTRAINT "PRM_NAME_NN" CHECK ("NAME" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_PARAMETERS" ADD CONSTRAINT "PRM_VALUE_NN" CHECK ("VALUE" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "ALGORITHM_PARAMETERS" ADD CONSTRAINT "PRM_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
--------------------------------------------------------
--  BALANCING_AREAS
--------------------------------------------------------
CREATE TABLE "BALANCING_AREAS"
(
	"SESSION_ID" NUMBER(9,0),
	"BALANCING_AREA_ID" NUMBER(9,0),
	"NAME" VARCHAR2(50 CHAR),
	"EXTERNAL_ID" CHAR(16 CHAR),
	"ADVERSE_FLOWS_ALLOWED" NUMBER(1,0),
	"LTA_INCLUSION" NUMBER(1,0),
	"TIME_RESOLUTION" NUMBER(9,0)
);
--------------------------------------------------------
ALTER TABLE "BALANCING_AREAS" ADD CONSTRAINT "BLN_PK" PRIMARY KEY ("SESSION_ID", "BALANCING_AREA_ID") ENABLE;
ALTER TABLE "BALANCING_AREAS" ADD CONSTRAINT "BLN_EXTERNAL_ID_UN" UNIQUE ("SESSION_ID", "EXTERNAL_ID") ENABLE;
ALTER TABLE "BALANCING_AREAS" ADD CONSTRAINT "BLN_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BALANCING_AREAS" ADD CONSTRAINT "BLN_BALANCING_AREA_ID_NN" CHECK ("BALANCING_AREA_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BALANCING_AREAS" ADD CONSTRAINT "BLN_BALANCING_AREA_ID_CK" CHECK ("BALANCING_AREA_ID" >= 0) ENABLE;
ALTER TABLE "BALANCING_AREAS" ADD CONSTRAINT "BLN_EXTERNAL_ID_NN" CHECK ("EXTERNAL_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BALANCING_AREAS" ADD CONSTRAINT "BLN_ADVERSE_FLOWS_ALLOWED_NN" CHECK ("ADVERSE_FLOWS_ALLOWED" IS NOT NULL) ENABLE;
ALTER TABLE "BALANCING_AREAS" ADD CONSTRAINT "BLN_LTA_INCLUSION_NN" CHECK ("LTA_INCLUSION" IS NOT NULL) ENABLE;
ALTER TABLE "BALANCING_AREAS" ADD CONSTRAINT "BLN_TIME_RESOLUTION_NN" CHECK ("TIME_RESOLUTION" IS NOT NULL) ENABLE;
ALTER TABLE "BALANCING_AREAS" ADD CONSTRAINT "BLN_ADVERSE_FLOWS_ALLOWED_CK" CHECK ("ADVERSE_FLOWS_ALLOWED" IN (1, 2)) ENABLE;
ALTER TABLE "BALANCING_AREAS" ADD CONSTRAINT "BLN_LTA_INCLUSION_CK" CHECK ("LTA_INCLUSION" IN (0, 1)) ENABLE;
ALTER TABLE "BALANCING_AREAS" ADD CONSTRAINT "BLN_TIME_RESOLUTION_CK" CHECK ("TIME_RESOLUTION" IN (15,30,60)) ENABLE;
--------------------------------------------------------
ALTER TABLE "BALANCING_AREAS" ADD CONSTRAINT "BLN_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
--------------------------------------------------------
--  BIDDING_ZONE_CLUSTERS
--------------------------------------------------------
CREATE TABLE "BIDDING_ZONE_CLUSTERS"
(
	"SESSION_ID" NUMBER(9,0),
	"CLUSTER_ID" NUMBER(9,0),
	"NAME" VARCHAR2(50 CHAR),
	"EXTERNAL_ID" CHAR(16 CHAR)
);

ALTER TABLE "BIDDING_ZONE_CLUSTERS" ADD CONSTRAINT "BCL_PK" PRIMARY KEY ("SESSION_ID", "CLUSTER_ID") ENABLE;
ALTER TABLE "BIDDING_ZONE_CLUSTERS" ADD CONSTRAINT "BCL_EXTERNAL_ID_UN" UNIQUE ("SESSION_ID", "EXTERNAL_ID") ENABLE;
ALTER TABLE "BIDDING_ZONE_CLUSTERS" ADD CONSTRAINT "BCL_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_CLUSTERS" ADD CONSTRAINT "BCL_CLUSTER_ID_NN" CHECK ("CLUSTER_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_CLUSTERS" ADD CONSTRAINT "BCL_CLUSTER_ID_CK" CHECK ("CLUSTER_ID" >= 0) ENABLE;
ALTER TABLE "BIDDING_ZONE_CLUSTERS" ADD CONSTRAINT "BCL_NAME_NN" CHECK ("NAME" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_CLUSTERS" ADD CONSTRAINT "BCL_EXTERNAL_ID_NN" CHECK ("EXTERNAL_ID" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "BIDDING_ZONE_CLUSTERS" ADD CONSTRAINT "BCL_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
--------------------------------------------------------
--  BIDDING_ZONES
--------------------------------------------------------
CREATE TABLE "BIDDING_ZONES"
(
	"SESSION_ID" NUMBER(9,0),
	"BIDDING_ZONE_ID" NUMBER(9,0),
	"TIME_RESOLUTION" NUMBER(9,0),
	"BALANCING_AREA_ID" NUMBER(9,0),
	"SHORT_NAME" VARCHAR2(50 CHAR),
	"NAME" VARCHAR2(50 CHAR),
	"EXTERNAL_ID" CHAR(16 CHAR),
	"MINIMUM_PRICE" NUMBER(11,5),
	"MAXIMUM_PRICE" NUMBER(11,5),
	"PRICE_PRECISION" NUMBER(1,0),
	"NET_POSITION_PRECISION" NUMBER(1,0),
	"CURVE_FORM" VARCHAR2(9 CHAR),
	"SHARE_CURTAILMENT_PMIN" NUMBER(1,0),
	"SHARE_CURTAILMENT_PMAX" NUMBER(1,0),
	"PERIOD_RAMPING" NUMBER(1,0),
	"DAILY_RAMPING" NUMBER(1,0),
	"PREVIOUS_DAY_LAST_NET_POSITION" NUMBER(11,5),
	"ROUNDING_BIDDING_ZONE_ID" NUMBER(9,0),
	"CLUSTER_ID" NUMBER(9,0),
	"DECOUPLING" NUMBER(1,0)
);
--------------------------------------------------------
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_PK" PRIMARY KEY ("SESSION_ID", "BIDDING_ZONE_ID") ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_EXTERNAL_ID_UN" UNIQUE ("SESSION_ID", "EXTERNAL_ID") ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_BIDDING_ZONE_ID_NN" CHECK ("BIDDING_ZONE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_BIDDING_ZONE_ID_CK" CHECK ("BIDDING_ZONE_ID" >= 0) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_TIME_RESOLUTION_CK" CHECK ("TIME_RESOLUTION" IN (15, 30, 60)) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_TIME_RESOLUTION_NN" CHECK ("TIME_RESOLUTION" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_BALANCING_AREA_ID_NN" CHECK ("BALANCING_AREA_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_EXTERNAL_ID_NN" CHECK ("EXTERNAL_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_MINIMUM_PRICE_NN" CHECK ("MINIMUM_PRICE" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_MAXIMUM_PRICE_NN" CHECK ("MAXIMUM_PRICE" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_PRICE_PRECISION_NN" CHECK ("PRICE_PRECISION" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_NET_POSITION_PRECISION_NN" CHECK ("NET_POSITION_PRECISION" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_CURVE_FORM_NN" CHECK ("CURVE_FORM" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_SHARE_CURTAILMENT_PMIN_NN" CHECK ("SHARE_CURTAILMENT_PMIN" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_SHARE_CURTAILMENT_PMAX_NN" CHECK ("SHARE_CURTAILMENT_PMAX" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_PERIOD_RAMPING_NN" CHECK ("PERIOD_RAMPING" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_DAILY_RAMPING_NN" CHECK ("DAILY_RAMPING" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_DECOUPLING_NN" CHECK ("DECOUPLING" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_CURVE_FORM_CK" CHECK ("CURVE_FORM" IN ('HYBRID', 'PIECEWISE', 'STEPWISE')) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_SHARE_CURTAILMENT_PMIN_CK" CHECK ("SHARE_CURTAILMENT_PMIN" IN (0, 1, 2)) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_SHARE_CURTAILMENT_PMAX_CK" CHECK ("SHARE_CURTAILMENT_PMAX" IN (0, 1, 2)) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_PERIOD_RAMPING_CK" CHECK ("PERIOD_RAMPING" IN (0, 1)) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_DAILY_RAMPING_CK" CHECK ("DAILY_RAMPING" IN (0, 1)) ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_DECOUPLING_CK" CHECK ("DECOUPLING" IN (0, 1, 2)) ENABLE;
--------------------------------------------------------
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_BALANCING_AREAS_FK" FOREIGN KEY ("SESSION_ID", "BALANCING_AREA_ID")
	REFERENCES "BALANCING_AREAS" ("SESSION_ID", "BALANCING_AREA_ID") ENABLE;
ALTER TABLE "BIDDING_ZONES" ADD CONSTRAINT "BID_CLUSTER_ID_FK" FOREIGN KEY ("SESSION_ID", "CLUSTER_ID")
    REFERENCES "BIDDING_ZONE_CLUSTERS" ("SESSION_ID", "CLUSTER_ID") ENABLE;
--------------------------------------------------------
CREATE INDEX "BID_BALANCING_AREA_ID_IX" ON "BIDDING_ZONES" ("SESSION_ID", "BALANCING_AREA_ID");
--------------------------------------------------------
--  SCHEDULING_AREAS
--------------------------------------------------------
CREATE TABLE "SCHEDULING_AREAS"
(
	"SESSION_ID" NUMBER(9,0),
	"SCHEDULING_AREA_ID" NUMBER(9,0),
	"BIDDING_ZONE_ID" NUMBER(9,0),
	"TIME_RESOLUTION" NUMBER(9,0),
	"EXTERNAL_ID" CHAR(16 CHAR),
	"NAME" VARCHAR2(50 CHAR)
);
--------------------------------------------------------
ALTER TABLE "SCHEDULING_AREAS" ADD CONSTRAINT "SA_PK" PRIMARY KEY ("SESSION_ID", "SCHEDULING_AREA_ID") ENABLE;
ALTER TABLE "SCHEDULING_AREAS" ADD CONSTRAINT "SA_EXTERNAL_ID_UN" UNIQUE ("SESSION_ID", "EXTERNAL_ID") ENABLE;
ALTER TABLE "SCHEDULING_AREAS" ADD CONSTRAINT "SA_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREAS" ADD CONSTRAINT "SA_SCHEDULING_AREA_ID_NN" CHECK ("SCHEDULING_AREA_ID" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREAS" ADD CONSTRAINT "SA_SCHEDULING_AREA_ID_CK" CHECK ("SCHEDULING_AREA_ID" >= 0) ENABLE;
ALTER TABLE "SCHEDULING_AREAS" ADD CONSTRAINT "SA_BIDDING_ZONE_ID_NN" CHECK ("BIDDING_ZONE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREAS" ADD CONSTRAINT "SA_TIME_RESOLUTION_CK" CHECK ("TIME_RESOLUTION" IN (15, 30, 60)) ENABLE;
ALTER TABLE "SCHEDULING_AREAS" ADD CONSTRAINT "SA_TIME_RESOLUTION_NN" CHECK ("TIME_RESOLUTION" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREAS" ADD CONSTRAINT "SA_EXTERNAL_ID_NN" CHECK ("EXTERNAL_ID" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "SCHEDULING_AREAS" ADD CONSTRAINT "SA_BIDDING_ZONES_FK" FOREIGN KEY ("SESSION_ID", "BIDDING_ZONE_ID")
	REFERENCES "BIDDING_ZONES" ("SESSION_ID", "BIDDING_ZONE_ID") ENABLE;
--------------------------------------------------------
--  NEMOS
--------------------------------------------------------
CREATE TABLE "NEMOS"
(
	"SESSION_ID" NUMBER(9,0),
	"NEMO_ID" NUMBER(9,0),
	"EXTERNAL_ID" CHAR(16 CHAR),
	"NAME" VARCHAR2(50 CHAR)
);
--------------------------------------------------------
ALTER TABLE "NEMOS" ADD CONSTRAINT "NEMO_PK" PRIMARY KEY ("SESSION_ID", "NEMO_ID") ENABLE;
ALTER TABLE "NEMOS" ADD CONSTRAINT "NEMO_EXTERNAL_ID_UN" UNIQUE ("SESSION_ID", "EXTERNAL_ID") ENABLE;
ALTER TABLE "NEMOS" ADD CONSTRAINT "NEMO_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "NEMOS" ADD CONSTRAINT "NEMO_NEMO_ID_NN" CHECK ("NEMO_ID" IS NOT NULL) ENABLE;
ALTER TABLE "NEMOS" ADD CONSTRAINT "NEMO_NEMO_ID_CK" CHECK ("NEMO_ID" >= 0) ENABLE;
ALTER TABLE "NEMOS" ADD CONSTRAINT "NEMO_EXTERNAL_ID_NN" CHECK ("EXTERNAL_ID" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "NEMOS" ADD CONSTRAINT "NEMO_SESSION_ID_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
--------------------------------------------------------
--  CCPS
--------------------------------------------------------
CREATE TABLE "CCPS"
(
	"SESSION_ID" NUMBER(9,0),
	"CCP_ID" NUMBER(9,0),
	"EXTERNAL_ID" CHAR(16 CHAR),
  "NAME" VARCHAR2(50 CHAR)
);
--------------------------------------------------------
ALTER TABLE "CCPS" ADD CONSTRAINT "CCP_PK" PRIMARY KEY ("SESSION_ID", "CCP_ID") ENABLE;
ALTER TABLE "CCPS" ADD CONSTRAINT "CCP_EXTERNAL_ID_UN" UNIQUE ("SESSION_ID", "EXTERNAL_ID") ENABLE;
ALTER TABLE "CCPS" ADD CONSTRAINT "CCP_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "CCPS" ADD CONSTRAINT "CCP_CCP_ID_NN" CHECK ("CCP_ID" IS NOT NULL) ENABLE;
ALTER TABLE "CCPS" ADD CONSTRAINT "CCP_CCP_ID_CK" CHECK ("CCP_ID" >= 0) ENABLE;
ALTER TABLE "CCPS" ADD CONSTRAINT "CCP_EXTERNAL_ID_NN" CHECK ("EXTERNAL_ID" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "CCPS" ADD CONSTRAINT "CCP_SESSION_ID_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
--------------------------------------------------------
--  NEMO_HUBS
--------------------------------------------------------
CREATE TABLE "NEMO_HUBS"
(
	"SESSION_ID" NUMBER(9,0),
	"NEMO_HUB_ID" NUMBER(9,0),
	"SCHEDULING_AREA_ID" NUMBER(9,0),
	"TIME_RESOLUTION" NUMBER(9,0),
	"EXTERNAL_ID" CHAR(16 CHAR),
	"NEMO_ID" NUMBER(9,0),
	"CCP_ID" NUMBER(9,0),
	"NAME" VARCHAR2(50 CHAR),
	"CURVE_FORM" VARCHAR2(9 CHAR)
);
--------------------------------------------------------
ALTER TABLE "NEMO_HUBS" ADD CONSTRAINT "HUB_PK" PRIMARY KEY ("SESSION_ID", "NEMO_HUB_ID") ENABLE;
ALTER TABLE "NEMO_HUBS" ADD CONSTRAINT "HUB_EXTERNAL_ID_UN" UNIQUE ("SESSION_ID", "EXTERNAL_ID") ENABLE;
ALTER TABLE "NEMO_HUBS" ADD CONSTRAINT "HUB_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUBS" ADD CONSTRAINT "HUB_NEMO_HUB_ID_NN" CHECK ("NEMO_HUB_ID" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUBS" ADD CONSTRAINT "HUB_NEMO_HUB_ID_CK" CHECK ("NEMO_HUB_ID" >= 0) ENABLE;
ALTER TABLE "NEMO_HUBS" ADD CONSTRAINT "HUB_SCHEDULING_AREA_ID_NN" CHECK ("SCHEDULING_AREA_ID" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUBS" ADD CONSTRAINT "HUB_TIME_RESOLUTION_CK" CHECK ("TIME_RESOLUTION" IN (15, 30, 60)) ENABLE;
ALTER TABLE "NEMO_HUBS" ADD CONSTRAINT "HUB_TIME_RESOLUTION_NN" CHECK ("TIME_RESOLUTION" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUBS" ADD CONSTRAINT "HUB_EXTERNAL_ID_NN" CHECK ("EXTERNAL_ID" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUBS" ADD CONSTRAINT "HUB_NEMO_ID_NN" CHECK ("NEMO_ID" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUBS" ADD CONSTRAINT "HUB_CCP_ID_NN" CHECK ("CCP_ID" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUBS" ADD CONSTRAINT "HUB_CURVE_FORM_NN" CHECK ("CURVE_FORM" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUBS" ADD CONSTRAINT "HUB_CURVE_FORM_CK" CHECK ("CURVE_FORM" IN ('HYBRID', 'PIECEWISE', 'STEPWISE')) ENABLE;
--------------------------------------------------------
ALTER TABLE "NEMO_HUBS" ADD CONSTRAINT "HUB_SCHEDULING_AREAS_FK" FOREIGN KEY ("SESSION_ID", "SCHEDULING_AREA_ID")
	REFERENCES "SCHEDULING_AREAS" ("SESSION_ID", "SCHEDULING_AREA_ID") ENABLE;
ALTER TABLE "NEMO_HUBS" ADD CONSTRAINT "HUB_NEMOS_FK" FOREIGN KEY ("SESSION_ID","NEMO_ID")
	REFERENCES "NEMOS" ("SESSION_ID","NEMO_ID") ENABLE;
ALTER TABLE "NEMO_HUBS" ADD CONSTRAINT "HUB_CCPS_FK" FOREIGN KEY ("SESSION_ID","CCP_ID")
	REFERENCES "CCPS" ("SESSION_ID","CCP_ID") ENABLE;
--------------------------------------------------------
--  BIDDING_ZONE_PERIOD_CONSTRAINTS
--------------------------------------------------------
CREATE TABLE "BIDDING_ZONE_PERIOD_CONSTRAINTS"
(
	"SESSION_ID" NUMBER(9,0),
	"BIDDING_ZONE_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"RAMPING_LIMIT_DOWN" NUMBER(11,5),
	"RAMPING_LIMIT_UP" NUMBER(11,5),
	"THRESHOLD_DOWN" NUMBER(11,5),
	"THRESHOLD_UP" NUMBER(11,5),
	"EXTERNAL_CONSTRAINT_DOWN" NUMBER(11,5),
	"EXTERNAL_CONSTRAINT_UP" NUMBER(11,5)
);
--------------------------------------------------------
ALTER TABLE "BIDDING_ZONE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BZP_PK" PRIMARY KEY ("SESSION_ID", "BIDDING_ZONE_ID", "PERIOD") ENABLE;
ALTER TABLE "BIDDING_ZONE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BZP_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BZP_BIDDING_ZONE_ID_NN" CHECK ("BIDDING_ZONE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BZP_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BZP_RAMPING_LIMIT_DOWN_CK" CHECK ("RAMPING_LIMIT_DOWN" >= 0) ENABLE;
ALTER TABLE "BIDDING_ZONE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BZP_RAMPING_LIMIT_UP_CK" CHECK ("RAMPING_LIMIT_UP" >= 0) ENABLE;
ALTER TABLE "BIDDING_ZONE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BZP_THRESHOLD_DOWN_CK" CHECK ("THRESHOLD_DOWN" >= 0) ENABLE;
ALTER TABLE "BIDDING_ZONE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BZP_THRESHOLD_UP_CK" CHECK ("THRESHOLD_UP" >= 0) ENABLE;
ALTER TABLE "BIDDING_ZONE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BZP_EXTCONSTRAINTLIMIT_UP_CK" CHECK ("EXTERNAL_CONSTRAINT_UP" >= 0) ENABLE;
ALTER TABLE "BIDDING_ZONE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BZP_EXTCONSTRAINTLIMIT_DOWN" CHECK ("EXTERNAL_CONSTRAINT_DOWN" >= 0) ENABLE;
--------------------------------------------------------
ALTER TABLE "BIDDING_ZONE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BZP_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "BIDDING_ZONE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BZP_BIDDING_ZONES_FK" FOREIGN KEY ("SESSION_ID", "BIDDING_ZONE_ID")
	REFERENCES "BIDDING_ZONES" ("SESSION_ID", "BIDDING_ZONE_ID") ENABLE;
--------------------------------------------------------
--  BIDDING_ZONE_DAILY_CONSTRAINTS
--------------------------------------------------------
CREATE TABLE "BIDDING_ZONE_DAILY_CONSTRAINTS"
(
	"SESSION_ID" NUMBER(9,0),
	"BIDDING_ZONE_ID" NUMBER(9,0),
	"CUM_RAMPING_LIMIT_DOWN" NUMBER(11,5),
	"CUM_RAMPING_LIMIT_UP" NUMBER(11,5)
);
--------------------------------------------------------
ALTER TABLE "BIDDING_ZONE_DAILY_CONSTRAINTS" ADD CONSTRAINT "BZD_PK" PRIMARY KEY ("SESSION_ID", "BIDDING_ZONE_ID") ENABLE;
ALTER TABLE "BIDDING_ZONE_DAILY_CONSTRAINTS" ADD CONSTRAINT "BZD_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_DAILY_CONSTRAINTS" ADD CONSTRAINT "BZD_BIDDING_ZONE_ID_NN" CHECK ("BIDDING_ZONE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_DAILY_CONSTRAINTS" ADD CONSTRAINT "BZD_CUM_RAMPING_LIMIT_DOWN_CK" CHECK ("CUM_RAMPING_LIMIT_DOWN" >= 0) ENABLE;
ALTER TABLE "BIDDING_ZONE_DAILY_CONSTRAINTS" ADD CONSTRAINT "BZD_CUM_RAMPING_LIMIT_UP_CK" CHECK ("CUM_RAMPING_LIMIT_UP" >= 0) ENABLE;
--------------------------------------------------------
ALTER TABLE "BIDDING_ZONE_DAILY_CONSTRAINTS" ADD CONSTRAINT "BZD_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "BIDDING_ZONE_DAILY_CONSTRAINTS" ADD CONSTRAINT "BZD_BIDDING_ZONES_FK" FOREIGN KEY ("SESSION_ID", "BIDDING_ZONE_ID")
	REFERENCES "BIDDING_ZONES" ("SESSION_ID", "BIDDING_ZONE_ID") ENABLE;
--------------------------------------------------------
--  LINES
--------------------------------------------------------
CREATE TABLE "LINES"
(
	"SESSION_ID" NUMBER(9,0),
	"LINE_ID" NUMBER(9,0),
	"BIDDING_ZONE_FROM" NUMBER(9,0),
	"BIDDING_ZONE_TO" NUMBER(9,0),
	"TYPE" VARCHAR2(3 CHAR),
	"FLOW_PRECISION_FROM" NUMBER(1,0),
	"FLOW_PRECISION_TO" NUMBER(1,0),
	"PREVIOUS_DAY_LAST_FLOW" NUMBER(11,5),
	"TIME_RESOLUTION" NUMBER(9,0)
);
--------------------------------------------------------
ALTER TABLE "LINES" ADD CONSTRAINT "LIN_PK" PRIMARY KEY ("SESSION_ID", "LINE_ID") ENABLE;
ALTER TABLE "LINES" ADD CONSTRAINT "LIN_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "LINES" ADD CONSTRAINT "LIN_LINE_ID_NN" CHECK ("LINE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "LINES" ADD CONSTRAINT "LIN_LINE_ID_CK" CHECK ("LINE_ID" >= 0) ENABLE;
ALTER TABLE "LINES" ADD CONSTRAINT "LIN_BIDDING_ZONE_FROM_NN" CHECK ("BIDDING_ZONE_FROM" IS NOT NULL) ENABLE;
ALTER TABLE "LINES" ADD CONSTRAINT "LIN_BIDDING_ZONE_TO_NN" CHECK ("BIDDING_ZONE_TO" IS NOT NULL) ENABLE;
ALTER TABLE "LINES" ADD CONSTRAINT "LIN_TYPE_NN" CHECK ("TYPE" IS NOT NULL) ENABLE;
ALTER TABLE "LINES" ADD CONSTRAINT "LIN_FLOW_PRECISION_FROM_NN" CHECK ("FLOW_PRECISION_FROM" IS NOT NULL) ENABLE;
ALTER TABLE "LINES" ADD CONSTRAINT "LIN_FLOW_PRECISION_TO_NN" CHECK ("FLOW_PRECISION_TO" IS NOT NULL) ENABLE;
ALTER TABLE "LINES" ADD CONSTRAINT "LIN_TIME_RESOLUTION_NN" CHECK ("TIME_RESOLUTION" IS NOT NULL) ENABLE;
ALTER TABLE "LINES" ADD CONSTRAINT "LIN_TYPE_CK" CHECK ("TYPE" IN ('ATC', 'DC', 'TOP', 'ADV')) ENABLE;
ALTER TABLE "LINES" ADD CONSTRAINT "LIN_TIME_RESOLUTION_CK" CHECK ("TIME_RESOLUTION" IN (15,30,60)) ENABLE;
--------------------------------------------------------
ALTER TABLE "LINES" ADD CONSTRAINT "LIN_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "LINES" ADD CONSTRAINT "LIN_BIDDING_ZONES_FK1" FOREIGN KEY ("SESSION_ID", "BIDDING_ZONE_FROM")
	REFERENCES "BIDDING_ZONES" ("SESSION_ID", "BIDDING_ZONE_ID") ENABLE;
ALTER TABLE "LINES" ADD CONSTRAINT "LIN_BIDDING_ZONES_FK2" FOREIGN KEY ("SESSION_ID", "BIDDING_ZONE_TO")
	REFERENCES "BIDDING_ZONES" ("SESSION_ID", "BIDDING_ZONE_ID") ENABLE;
--------------------------------------------------------
--  LINE_PERIOD_CONSTRAINTS
--------------------------------------------------------
CREATE TABLE "LINE_PERIOD_CONSTRAINTS"
(
	"SESSION_ID" NUMBER(9,0),
	"LINE_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"LONG_TERM_NOMINATION_DOWN" NUMBER(11,5),
	"LONG_TERM_NOMINATION_UP" NUMBER(11,5),
	"CAPACITY_DOWN" NUMBER(11,5),
	"CAPACITY_UP" NUMBER(11,5),
	"LTA_DOWN" NUMBER(11,5),
	"LTA_UP" NUMBER(11,5),
	"LOSS_DOWN" NUMBER(6,5),
	"LOSS_UP" NUMBER(6,5),
	"TARIFF_DOWN" NUMBER(11,5),
	"TARIFF_UP" NUMBER(11,5),
	"RAMPING_LIMIT_DOWN" NUMBER(11,5),
	"RAMPING_LIMIT_UP" NUMBER(11,5),
	"MSF_DOWN" NUMBER(11,5),
	"MSF_UP" NUMBER(11,5),
	"AAC_UP" NUMBER(11,5),
	"AAC_DOWN" NUMBER(11,5),
	"LINEAR_COST_COEFFICIENT" NUMBER(9,0),
	"QUADRATIC_COST_COEFFICIENT" NUMBER(9,0)
);
--------------------------------------------------------
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_PK" PRIMARY KEY ("SESSION_ID", "LINE_ID", "PERIOD") ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_LINE_ID_NN" CHECK ("LINE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_LONG_TERM_NOMINATION_DOWN_NN" CHECK ("LONG_TERM_NOMINATION_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_LONG_TERM_NOMINATION_UP_NN" CHECK ("LONG_TERM_NOMINATION_UP" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_CAPACITY_DOWN_NN" CHECK ("CAPACITY_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_CAPACITY_UP_NN" CHECK ("CAPACITY_UP" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_LOSS_DOWN_NN" CHECK ("LOSS_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_LOSS_UP_NN" CHECK ("LOSS_UP" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_TARIFF_DOWN_NN" CHECK ("TARIFF_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_TARIFF_UP_NN" CHECK ("TARIFF_UP" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_LINEAR_COEFFICIENT_NN" CHECK ("LINEAR_COST_COEFFICIENT" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_QUADRATIC_COEFFICIENT_NN" CHECK ("QUADRATIC_COST_COEFFICIENT" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_LONG_TERM_NOMINATION_DOWN_CK" CHECK ("LONG_TERM_NOMINATION_DOWN" >= 0) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_LONG_TERM_NOMINATION_UP_CK" CHECK ("LONG_TERM_NOMINATION_UP" >= 0) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_LOSS_DOWN_CK1" CHECK ("LOSS_DOWN" >= 0) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_LOSS_DOWN_CK2" CHECK ("LOSS_DOWN" < 1) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_LOSS_UP_CK1" CHECK ("LOSS_UP" >= 0) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_LOSS_UP_CK2" CHECK ("LOSS_UP" < 1) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_TARIFF_DOWN_CK" CHECK ("TARIFF_DOWN" >= 0) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_TARIFF_UP_CK" CHECK ("TARIFF_UP" >= 0) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_RAMPING_LIMIT_DOWN_CK" CHECK ("RAMPING_LIMIT_DOWN" >= 0) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_RAMPING_LIMIT_UP_CK" CHECK ("RAMPING_LIMIT_UP" >= 0) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_MSF_DOWN_CK" CHECK ("MSF_DOWN" >= 0) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_MSF_UP_CK" CHECK ("MSF_UP" >= 0) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_LINEAR_COEFFICIENT_CK" CHECK ("LINEAR_COST_COEFFICIENT" >= 0) ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_QUADRATIC_COEFFICIENT_CK" CHECK ("QUADRATIC_COST_COEFFICIENT" >= 0) ENABLE;
--------------------------------------------------------
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
  REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "LINE_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LNC_LINES_FK" FOREIGN KEY ("SESSION_ID", "LINE_ID")
  REFERENCES "LINES" ("SESSION_ID", "LINE_ID") ENABLE;
--------------------------------------------------------
--  LINESETS
--------------------------------------------------------
CREATE TABLE "LINESETS"
(
	"SESSION_ID" NUMBER(9,0),
	"LINESET_ID" NUMBER(9,0),
	"TIME_RESOLUTION" NUMBER(9,0)
);
--------------------------------------------------------
ALTER TABLE "LINESETS" ADD CONSTRAINT "LST_PK" PRIMARY KEY ("SESSION_ID", "LINESET_ID") ENABLE;
ALTER TABLE "LINESETS" ADD CONSTRAINT "LST_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "LINESETS" ADD CONSTRAINT "LST_LINESET_ID_NN" CHECK ("LINESET_ID" IS NOT NULL) ENABLE;
ALTER TABLE "LINESETS" ADD CONSTRAINT "LST_LINESET_ID_CK" CHECK ("LINESET_ID" >= 0) ENABLE;
ALTER TABLE "LINESETS" ADD CONSTRAINT "LST_TIME_RESOLUTION_NN" CHECK ("TIME_RESOLUTION" IS NOT NULL) ENABLE;
ALTER TABLE "LINESETS" ADD CONSTRAINT "LST_TIME_RESOLUTION_CK" CHECK ("TIME_RESOLUTION" IN (15,30,60)) ENABLE;
--------------------------------------------------------
ALTER TABLE "LINESETS" ADD CONSTRAINT "LST_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
--------------------------------------------------------
--  LINESET_MEMBERS
--------------------------------------------------------
CREATE TABLE "LINESET_MEMBERS"
(
	"SESSION_ID" NUMBER(9,0),
	"LINESET_ID" NUMBER(9,0),
	"LINE_ID" NUMBER(9,0),
	"DIRECTION" NUMBER(1,0)
);
--------------------------------------------------------
ALTER TABLE "LINESET_MEMBERS" ADD CONSTRAINT "LSM_PK" PRIMARY KEY ("SESSION_ID", "LINESET_ID", "LINE_ID") ENABLE;
ALTER TABLE "LINESET_MEMBERS" ADD CONSTRAINT "LSM_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "LINESET_MEMBERS" ADD CONSTRAINT "LSM_LINESET_ID_NN" CHECK ("LINESET_ID" IS NOT NULL) ENABLE;
ALTER TABLE "LINESET_MEMBERS" ADD CONSTRAINT "LSM_LINE_ID_NN" CHECK ("LINE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "LINESET_MEMBERS" ADD CONSTRAINT "LSM_DIRECTION_NN" CHECK ("DIRECTION" IS NOT NULL) ENABLE;
ALTER TABLE "LINESET_MEMBERS" ADD CONSTRAINT "LSM_DIRECTION_CK" CHECK ("DIRECTION" IN (-1, 1)) ENABLE;
--------------------------------------------------------
ALTER TABLE "LINESET_MEMBERS" ADD CONSTRAINT "LSM_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "LINESET_MEMBERS" ADD CONSTRAINT "LSM_LINESETS_FK" FOREIGN KEY ("SESSION_ID", "LINESET_ID")
	REFERENCES "LINESETS" ("SESSION_ID", "LINESET_ID") ENABLE;
ALTER TABLE "LINESET_MEMBERS" ADD CONSTRAINT "LSM_LINES_FK" FOREIGN KEY ("SESSION_ID", "LINE_ID")
	REFERENCES "LINES" ("SESSION_ID", "LINE_ID") ENABLE;
--------------------------------------------------------
--  LINESET_PERIOD_CONSTRAINTS
--------------------------------------------------------
CREATE TABLE "LINESET_PERIOD_CONSTRAINTS"
(
	"SESSION_ID" NUMBER(9,0),
	"LINESET_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"RAMPING_LIMIT_DOWN" NUMBER(11,5),
	"RAMPING_LIMIT_UP" NUMBER(11,5),
	"CAPACITY_DOWN" NUMBER(11,5),
	"CAPACITY_UP" NUMBER(11,5),
	"AAC_UP" NUMBER(11,5),
	"AAC_DOWN" NUMBER(11,5)
);
--------------------------------------------------------
ALTER TABLE "LINESET_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LSC_PK" PRIMARY KEY ("SESSION_ID", "LINESET_ID", "PERIOD") ENABLE;
ALTER TABLE "LINESET_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LSC_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "LINESET_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LSC_LINESET_ID_NN" CHECK ("LINESET_ID" IS NOT NULL) ENABLE;
ALTER TABLE "LINESET_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LSC_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "LINESET_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LSC_RAMPING_LIMIT_DOWN_CK" CHECK ("RAMPING_LIMIT_DOWN" >= 0) ENABLE;
ALTER TABLE "LINESET_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LSC_RAMPING_LIMIT_UP_CK" CHECK ("RAMPING_LIMIT_UP" >= 0) ENABLE;
--------------------------------------------------------
ALTER TABLE "LINESET_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LSC_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "LINESET_PERIOD_CONSTRAINTS" ADD CONSTRAINT "LSC_LINESETS_FK" FOREIGN KEY ("SESSION_ID", "LINESET_ID")
	REFERENCES "LINESETS" ("SESSION_ID", "LINESET_ID") ENABLE;
--------------------------------------------------------
--  FLOW_BASED_HEADERS
--------------------------------------------------------
CREATE TABLE "FLOW_BASED_HEADERS"
(
	"SESSION_ID" NUMBER(9,0),
	"MATRIX_ID" NUMBER(9,0),
	"BALANCING_AREA_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0)
);
--------------------------------------------------------
ALTER TABLE "FLOW_BASED_HEADERS" ADD CONSTRAINT "FBH_PK" PRIMARY KEY ("SESSION_ID", "MATRIX_ID") ENABLE;
ALTER TABLE "FLOW_BASED_HEADERS" ADD CONSTRAINT "FBH_PERIOD_UN" UNIQUE ("SESSION_ID", "BALANCING_AREA_ID", "PERIOD") ENABLE;
ALTER TABLE "FLOW_BASED_HEADERS" ADD CONSTRAINT "FBH_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_HEADERS" ADD CONSTRAINT "FBH_MATRIX_ID_NN" CHECK ("MATRIX_ID" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_HEADERS" ADD CONSTRAINT "FBH_MATRIX_ID_CK" CHECK ("MATRIX_ID" >= 0) ENABLE;
ALTER TABLE "FLOW_BASED_HEADERS" ADD CONSTRAINT "FBH_BALANCING_AREA_ID_NN" CHECK ("BALANCING_AREA_ID" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_HEADERS" ADD CONSTRAINT "FBH_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "FLOW_BASED_HEADERS" ADD CONSTRAINT "FBH_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "FLOW_BASED_HEADERS" ADD CONSTRAINT "FBH_BALANCING_AREAS_FK" FOREIGN KEY ("SESSION_ID", "BALANCING_AREA_ID")
	REFERENCES "BALANCING_AREAS" ("SESSION_ID", "BALANCING_AREA_ID") ENABLE;
--------------------------------------------------------
--  FLOW_BASED_CONSTRAINTS
--------------------------------------------------------
CREATE TABLE "FLOW_BASED_CONSTRAINTS"
(
	"SESSION_ID" NUMBER(9,0),
	"MATRIX_ID" NUMBER(9,0),
	"ROW_ID" NUMBER(9,0),
	"REMAINING_AVAILABLE_MARGIN" NUMBER(11,5)
);
--------------------------------------------------------
ALTER TABLE "FLOW_BASED_CONSTRAINTS" ADD CONSTRAINT "FBC_PK" PRIMARY KEY ("SESSION_ID", "MATRIX_ID", "ROW_ID") ENABLE;
ALTER TABLE "FLOW_BASED_CONSTRAINTS" ADD CONSTRAINT "FBC_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_CONSTRAINTS" ADD CONSTRAINT "FBC_MATRIX_ID_NN" CHECK ("MATRIX_ID" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_CONSTRAINTS" ADD CONSTRAINT "FBC_ROW_ID_NN" CHECK ("ROW_ID" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_CONSTRAINTS" ADD CONSTRAINT "FBC_ROW_ID_CK" CHECK ("ROW_ID" >= 0) ENABLE;
ALTER TABLE "FLOW_BASED_CONSTRAINTS" ADD CONSTRAINT "FBC_AVAILABLE_MARGIN_NN" CHECK ("REMAINING_AVAILABLE_MARGIN" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "FLOW_BASED_CONSTRAINTS" ADD CONSTRAINT "FBC_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "FLOW_BASED_CONSTRAINTS" ADD CONSTRAINT "FBC_FLOW_BASED_HEADERS_FK" FOREIGN KEY ("SESSION_ID", "MATRIX_ID")
	REFERENCES "FLOW_BASED_HEADERS" ("SESSION_ID", "MATRIX_ID") ENABLE;
--------------------------------------------------------
--  FLOW_BASED_FACTORS
--------------------------------------------------------
CREATE TABLE "FLOW_BASED_FACTORS"
(
	"SESSION_ID" NUMBER(9,0),
	"MATRIX_ID" NUMBER(9,0),
	"ROW_ID" NUMBER(9,0),
	"BIDDING_ZONE_ID" NUMBER(9,0),
	"FACTOR" NUMBER(6,5)
);
--------------------------------------------------------
ALTER TABLE "FLOW_BASED_FACTORS" ADD CONSTRAINT "FBF_PK" PRIMARY KEY ("SESSION_ID", "MATRIX_ID", "ROW_ID", "BIDDING_ZONE_ID") ENABLE;
ALTER TABLE "FLOW_BASED_FACTORS" ADD CONSTRAINT "FBF_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_FACTORS" ADD CONSTRAINT "FBF_MATRIX_ID_NN" CHECK ("MATRIX_ID" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_FACTORS" ADD CONSTRAINT "FBF_ROW_ID_NN" CHECK ("ROW_ID" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_FACTORS" ADD CONSTRAINT "FBF_BIDDING_ZONE_ID_NN" CHECK ("BIDDING_ZONE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_FACTORS" ADD CONSTRAINT "FBF_FACTOR_NN" CHECK ("FACTOR" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_FACTORS" ADD CONSTRAINT "FBF_FACTOR_CK" CHECK ("FACTOR" BETWEEN -1 AND 1) ENABLE;
--------------------------------------------------------
ALTER TABLE "FLOW_BASED_FACTORS" ADD CONSTRAINT "FBF_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "FLOW_BASED_FACTORS" ADD CONSTRAINT "FBF_FLOW_BASED_HEADERS_FK" FOREIGN KEY ("SESSION_ID", "MATRIX_ID")
	REFERENCES "FLOW_BASED_HEADERS" ("SESSION_ID", "MATRIX_ID") ENABLE;
ALTER TABLE "FLOW_BASED_FACTORS" ADD CONSTRAINT "FBF_FLOW_BASED_CONSTRAINTS_FK" FOREIGN KEY ("SESSION_ID", "MATRIX_ID", "ROW_ID")
	REFERENCES "FLOW_BASED_CONSTRAINTS" ("SESSION_ID", "MATRIX_ID", "ROW_ID") ENABLE;
ALTER TABLE "FLOW_BASED_FACTORS" ADD CONSTRAINT "FBF_BIDDING_ZONES_FK" FOREIGN KEY ("SESSION_ID", "BIDDING_ZONE_ID")
	REFERENCES "BIDDING_ZONES" ("SESSION_ID", "BIDDING_ZONE_ID") ENABLE;
--------------------------------------------------------
--  SCHEDULING_AREA_LINES
--------------------------------------------------------
CREATE TABLE "SCHEDULING_AREA_LINES"
(
	"SESSION_ID" NUMBER(9,0),
	"SCHEDULING_AREA_LINE_ID" NUMBER(9,0),
	"SCHEDULING_AREA_FROM" NUMBER(9,0),
	"SCHEDULING_AREA_TO" NUMBER(9,0),
	"LINEAR_COST_COEFFICIENT" NUMBER(9,0),
	"QUADRATIC_COST_COEFFICIENT" NUMBER(9,0),
	"THERMAL_CAPACITY" NUMBER(9,0),
	"PARENT_LINE_ID" NUMBER(9,0)
);
--------------------------------------------------------
ALTER TABLE "SCHEDULING_AREA_LINES" ADD CONSTRAINT "SL_PK" PRIMARY KEY ("SESSION_ID", "SCHEDULING_AREA_LINE_ID") ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINES" ADD CONSTRAINT "SL_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINES" ADD CONSTRAINT "SL_SCHEDULING_AREA_LINE_ID_NN" CHECK ("SCHEDULING_AREA_LINE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINES" ADD CONSTRAINT "SL_SCHEDULING_AREA_LINE_ID_CK" CHECK ("SCHEDULING_AREA_LINE_ID" >= 0) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINES" ADD CONSTRAINT "SL_SCHEDULING_AREA_FROM_NN" CHECK ("SCHEDULING_AREA_FROM" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINES" ADD CONSTRAINT "SL_SCHEDULING_AREA_TO_NN" CHECK ("SCHEDULING_AREA_TO" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINES" ADD CONSTRAINT "SL_LINEAR_COST_COEFFICIENT_NN" CHECK ("LINEAR_COST_COEFFICIENT" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINES" ADD CONSTRAINT "SL_QUAD_COST_COEFFICIENT_NN" CHECK ("QUADRATIC_COST_COEFFICIENT" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINES" ADD CONSTRAINT "SL_THERMAL_CAPACITY_NN" CHECK ("THERMAL_CAPACITY" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "SCHEDULING_AREA_LINES" ADD CONSTRAINT "SL_SCHEDULING_LIN_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINES" ADD CONSTRAINT "SL_SESSION_SCHEDULING_AREA_FK1" FOREIGN KEY ("SESSION_ID", "SCHEDULING_AREA_FROM")
	REFERENCES "SCHEDULING_AREAS" ("SESSION_ID", "SCHEDULING_AREA_ID") ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINES" ADD CONSTRAINT "SL_SESSION_SCHEDULING_AREA_FK2" FOREIGN KEY ("SESSION_ID", "SCHEDULING_AREA_TO")
	REFERENCES "SCHEDULING_AREAS" ("SESSION_ID", "SCHEDULING_AREA_ID") ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINES" ADD CONSTRAINT "SL_LINES_FK" FOREIGN KEY ("SESSION_ID", "PARENT_LINE_ID")
	REFERENCES "LINES" ("SESSION_ID", "LINE_ID") ENABLE;
--------------------------------------------------------
--  NEMO_HUB_LINES
--------------------------------------------------------
CREATE TABLE "NEMO_HUB_LINES"
(
	"SESSION_ID" NUMBER(9,0),
	"NEMO_HUB_LINE_ID" NUMBER(9,0),
	"NEMO_HUB_FROM" NUMBER(9,0),
	"NEMO_HUB_TO" NUMBER(9,0),
	"LINEAR_COST_COEFFICIENT" NUMBER(9,0),
	"QUADRATIC_COST_COEFFICIENT" NUMBER(9,0),
	"PARENT_LINE_ID" NUMBER(9,0)
);
--------------------------------------------------------
ALTER TABLE "NEMO_HUB_LINES" ADD CONSTRAINT "NL_PK" PRIMARY KEY ("SESSION_ID", "NEMO_HUB_LINE_ID") ENABLE;
ALTER TABLE "NEMO_HUB_LINES" ADD CONSTRAINT "NL_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_LINES" ADD CONSTRAINT "NL_NEMO_HUB_LINE_ID_NN" CHECK ("NEMO_HUB_LINE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_LINES" ADD CONSTRAINT "NL_NEMO_HUB_LINE_ID_CK" CHECK ("NEMO_HUB_LINE_ID" >= 0) ENABLE;
ALTER TABLE "NEMO_HUB_LINES" ADD CONSTRAINT "NL_NEMO_HUB_FROM_NN" CHECK ("NEMO_HUB_FROM" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_LINES" ADD CONSTRAINT "NL_NEMO_HUB_TO_NN" CHECK ("NEMO_HUB_TO" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_LINES" ADD CONSTRAINT "NL_LINEAR_COST_COEFFICIENT_NN" CHECK ("LINEAR_COST_COEFFICIENT" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_LINES" ADD CONSTRAINT "NL_QUAD_COST_COEFFICIENT_NN" CHECK ("QUADRATIC_COST_COEFFICIENT" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "NEMO_HUB_LINES" ADD CONSTRAINT "NL_NEMOHUB_LIN_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "NEMO_HUB_LINES" ADD CONSTRAINT "NL_LIN_SESSION_NEMO_HUB_FK1" FOREIGN KEY ("SESSION_ID", "NEMO_HUB_FROM")
	REFERENCES "NEMO_HUBS" ("SESSION_ID", "NEMO_HUB_ID") ENABLE;
ALTER TABLE "NEMO_HUB_LINES" ADD CONSTRAINT "NL_LIN_SESSION_NEMO_HUB_FK2" FOREIGN KEY ("SESSION_ID", "NEMO_HUB_TO")
	REFERENCES "NEMO_HUBS" ("SESSION_ID", "NEMO_HUB_ID") ENABLE;
ALTER TABLE "NEMO_HUB_LINES" ADD CONSTRAINT "NL_SCHEDULING_AREA_LINES_FK" FOREIGN KEY ("SESSION_ID", "PARENT_LINE_ID")
	REFERENCES "SCHEDULING_AREA_LINES" ("SESSION_ID", "SCHEDULING_AREA_LINE_ID") ENABLE;
--------------------------------------------------------
--  CURVE_HEADERS
--------------------------------------------------------
CREATE TABLE "CURVE_HEADERS"
(
	"SESSION_ID" NUMBER(9,0),
	"CURVE_ID" NUMBER(9,0),
	"TIME_RESOLUTION" NUMBER(9,0),
	"NEMO_HUB_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"SIDE" VARCHAR2(8 CHAR)
);
--------------------------------------------------------
ALTER TABLE "CURVE_HEADERS" ADD CONSTRAINT "CHD_PK" PRIMARY KEY ("SESSION_ID", "CURVE_ID") ENABLE;
ALTER TABLE "CURVE_HEADERS" ADD CONSTRAINT "CHD_PERIOD_SIDE_RES_UN" UNIQUE ("SESSION_ID", "NEMO_HUB_ID", "PERIOD", "SIDE", "TIME_RESOLUTION") ENABLE;
ALTER TABLE "CURVE_HEADERS" ADD CONSTRAINT "CHD_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "CURVE_HEADERS" ADD CONSTRAINT "CHD_CURVE_ID_NN" CHECK ("CURVE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "CURVE_HEADERS" ADD CONSTRAINT "CHD_CURVE_ID_CK" CHECK ("CURVE_ID" >= 0) ENABLE;
ALTER TABLE "CURVE_HEADERS" ADD CONSTRAINT "CHD_TIME_RESOLUTION_CK" CHECK ("TIME_RESOLUTION" IN (15, 30, 60)) ENABLE;
ALTER TABLE "CURVE_HEADERS" ADD CONSTRAINT "CHD_TIME_RESOLUTION_NN" CHECK ("TIME_RESOLUTION" IS NOT NULL) ENABLE;
ALTER TABLE "CURVE_HEADERS" ADD CONSTRAINT "CHD_NEMO_HUB_ID_NN" CHECK ("NEMO_HUB_ID" IS NOT NULL) ENABLE;
ALTER TABLE "CURVE_HEADERS" ADD CONSTRAINT "CHD_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "CURVE_HEADERS" ADD CONSTRAINT "CHD_SIDE_NN" CHECK ("SIDE" IS NOT NULL) ENABLE;
ALTER TABLE "CURVE_HEADERS" ADD CONSTRAINT "CHD_SIDE_CK" CHECK ("SIDE" IN ('DEMAND', 'SUPPLY')) ENABLE;
--------------------------------------------------------
ALTER TABLE "CURVE_HEADERS" ADD CONSTRAINT "CHD_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "CURVE_HEADERS" ADD CONSTRAINT "CHD_NEMO_HUBS_FK" FOREIGN KEY ("SESSION_ID", "NEMO_HUB_ID")
	REFERENCES "NEMO_HUBS" ("SESSION_ID", "NEMO_HUB_ID") ENABLE;
--------------------------------------------------------
--  BIDDING_ZONE_CURVE_HEADERS
--------------------------------------------------------
CREATE TABLE "BIDDING_ZONE_CURVE_HEADERS"
(
	"SESSION_ID" NUMBER(9,0),
	"CURVE_ID" NUMBER(9,0),
	"TIME_RESOLUTION" NUMBER(9,0),
	"BIDDING_ZONE_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"SIDE" VARCHAR2(8 CHAR)
);
--------------------------------------------------------
ALTER TABLE "BIDDING_ZONE_CURVE_HEADERS" ADD CONSTRAINT "BCH_PK" PRIMARY KEY ("SESSION_ID", "CURVE_ID") ENABLE;
ALTER TABLE "BIDDING_ZONE_CURVE_HEADERS" ADD CONSTRAINT "BCH_PERIOD_SIDE_RES_UN" UNIQUE ("SESSION_ID", "BIDDING_ZONE_ID", "TIME_RESOLUTION", "PERIOD", "SIDE") ENABLE;
ALTER TABLE "BIDDING_ZONE_CURVE_HEADERS" ADD CONSTRAINT "BCH_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_CURVE_HEADERS" ADD CONSTRAINT "BCH_CURVE_ID_NN" CHECK ("CURVE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_CURVE_HEADERS" ADD CONSTRAINT "BCH_TIME_RESOLUTION_CK" CHECK ("TIME_RESOLUTION" IN (15, 30, 60)) ENABLE;
ALTER TABLE "BIDDING_ZONE_CURVE_HEADERS" ADD CONSTRAINT "BCH_TIME_RESOLUTION_NN" CHECK ("TIME_RESOLUTION" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_CURVE_HEADERS" ADD CONSTRAINT "BCH_BIDDING_ZONE_ID_NN" CHECK ("BIDDING_ZONE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_CURVE_HEADERS" ADD CONSTRAINT "BCH_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_CURVE_HEADERS" ADD CONSTRAINT "BCH_SIDE_NN" CHECK ("SIDE" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_CURVE_HEADERS" ADD CONSTRAINT "BCH_SIDE_CK" CHECK ("SIDE" IN ('DEMAND', 'SUPPLY')) ENABLE;
--------------------------------------------------------
ALTER TABLE "BIDDING_ZONE_CURVE_HEADERS" ADD CONSTRAINT "BCH_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "BIDDING_ZONE_CURVE_HEADERS" ADD CONSTRAINT "BCH_BIDDING_ZONES_FK" FOREIGN KEY ("SESSION_ID", "BIDDING_ZONE_ID")
	REFERENCES "BIDDING_ZONES" ("SESSION_ID", "BIDDING_ZONE_ID") ENABLE;
--------------------------------------------------------
--  CURVE_POINTS
--------------------------------------------------------
CREATE TABLE "CURVE_POINTS"
(
	"SESSION_ID" NUMBER(9,0),
	"CURVE_ID" NUMBER(9,0),
	"POSITION" NUMBER(9,0),
	"POWER" NUMBER(18,11),
	"PRICE" NUMBER(18,11)
);
--------------------------------------------------------
ALTER TABLE "CURVE_POINTS" ADD CONSTRAINT "CPT_PK" PRIMARY KEY ("SESSION_ID", "CURVE_ID", "POSITION") ENABLE;
ALTER TABLE "CURVE_POINTS" ADD CONSTRAINT "CPT_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "CURVE_POINTS" ADD CONSTRAINT "CPT_CURVE_ID_NN" CHECK ("CURVE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "CURVE_POINTS" ADD CONSTRAINT "CPT_POSITION_NN" CHECK ("POSITION" IS NOT NULL) ENABLE;
ALTER TABLE "CURVE_POINTS" ADD CONSTRAINT "CPT_POWER_NN" CHECK ("POWER" IS NOT NULL) ENABLE;
ALTER TABLE "CURVE_POINTS" ADD CONSTRAINT "CPT_PRICE_NN" CHECK ("PRICE" IS NOT NULL) ENABLE;
ALTER TABLE "CURVE_POINTS" ADD CONSTRAINT "CPT_POSITION_CK" CHECK ("POSITION" > 0) ENABLE;
--------------------------------------------------------
ALTER TABLE "CURVE_POINTS" ADD CONSTRAINT "CPT_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "CURVE_POINTS" ADD CONSTRAINT "CPT_CURVE_HEADERS_FK" FOREIGN KEY ("SESSION_ID", "CURVE_ID")
	REFERENCES "CURVE_HEADERS" ("SESSION_ID", "CURVE_ID") ENABLE;
--------------------------------------------------------
--  BIDDING_ZONE_CURVE_POINTS
--------------------------------------------------------
CREATE TABLE "BIDDING_ZONE_CURVE_POINTS"
(
	"SESSION_ID" NUMBER(9,0),
	"CURVE_ID" NUMBER(9,0),
	"POSITION" NUMBER(9,0),
	"POWER" NUMBER(18,11),
	"PRICE" NUMBER(18,11)
);
--------------------------------------------------------
ALTER TABLE "BIDDING_ZONE_CURVE_POINTS" ADD CONSTRAINT "BCP_PK" PRIMARY KEY ("SESSION_ID", "CURVE_ID", "POSITION") ENABLE;
ALTER TABLE "BIDDING_ZONE_CURVE_POINTS" ADD CONSTRAINT "BCP_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_CURVE_POINTS" ADD CONSTRAINT "BCP_CURVE_ID_NN" CHECK ("CURVE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_CURVE_POINTS" ADD CONSTRAINT "BCP_POSITION_NN" CHECK ("POSITION" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_CURVE_POINTS" ADD CONSTRAINT "BCP_POWER_NN" CHECK ("POWER" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_CURVE_POINTS" ADD CONSTRAINT "BCP_PRICE_NN" CHECK ("PRICE" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_CURVE_POINTS" ADD CONSTRAINT "BCP_POSITION_CK" CHECK ("POSITION" > 0) ENABLE;
--------------------------------------------------------
ALTER TABLE "BIDDING_ZONE_CURVE_POINTS" ADD CONSTRAINT "BCP_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "BIDDING_ZONE_CURVE_POINTS" ADD CONSTRAINT "BCP_BIDDING_ZONE_CURVE_HEADERS_FK" FOREIGN KEY ("SESSION_ID", "CURVE_ID")
	REFERENCES "BIDDING_ZONE_CURVE_HEADERS" ("SESSION_ID", "CURVE_ID") ENABLE;
--------------------------------------------------------
--  CLUSTER_CURVE_HEADERS
--------------------------------------------------------
CREATE TABLE "CLUSTER_CURVE_HEADERS"
(
	"SESSION_ID" NUMBER(9,0),
	"CURVE_ID" NUMBER(9,0),
	"TIME_RESOLUTION" NUMBER(9,0),
	"CLUSTER_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
    "SIDE" VARCHAR2(8 CHAR)
);

ALTER TABLE "CLUSTER_CURVE_HEADERS" ADD CONSTRAINT "CCH_PK" PRIMARY KEY ("SESSION_ID", "CURVE_ID") ENABLE;
ALTER TABLE "CLUSTER_CURVE_HEADERS" ADD CONSTRAINT "CCH_PERIOD_SIDE_RES_UN" UNIQUE ("SESSION_ID", "CLUSTER_ID", "TIME_RESOLUTION", "PERIOD", "SIDE") ENABLE;
ALTER TABLE "CLUSTER_CURVE_HEADERS" ADD CONSTRAINT "CCH_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "CLUSTER_CURVE_HEADERS" ADD CONSTRAINT "CCH_CURVE_ID_NN" CHECK ("CURVE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "CLUSTER_CURVE_HEADERS" ADD CONSTRAINT "CCH_TIME_RESOLUTION_CK" CHECK ("TIME_RESOLUTION" IN (15, 30, 60)) ENABLE;
ALTER TABLE "CLUSTER_CURVE_HEADERS" ADD CONSTRAINT "CCH_TIME_RESOLUTION_NN" CHECK ("TIME_RESOLUTION" IS NOT NULL) ENABLE;
ALTER TABLE "CLUSTER_CURVE_HEADERS" ADD CONSTRAINT "CCH_CLUSTER_ID_NN" CHECK ("CLUSTER_ID" IS NOT NULL) ENABLE;
ALTER TABLE "CLUSTER_CURVE_HEADERS" ADD CONSTRAINT "CCH_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "CLUSTER_CURVE_HEADERS" ADD CONSTRAINT "CCH_SIDE_NN" CHECK ("SIDE" IS NOT NULL) ENABLE;
ALTER TABLE "CLUSTER_CURVE_HEADERS" ADD CONSTRAINT "CCH_SIDE_CK" CHECK ("SIDE" IN ('DEMAND', 'SUPPLY')) ENABLE;
--------------------------------------------------------
ALTER TABLE "CLUSTER_CURVE_HEADERS" ADD CONSTRAINT "CCH_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "CLUSTER_CURVE_HEADERS" ADD CONSTRAINT "CCH_BIDDING_ZONE_CLUSTERS_FK" FOREIGN KEY ("SESSION_ID", "CLUSTER_ID")
	REFERENCES "BIDDING_ZONE_CLUSTERS" ("SESSION_ID", "CLUSTER_ID") ENABLE;
--------------------------------------------------------
--  CLUSTER_CURVE_POINTS
--------------------------------------------------------
CREATE TABLE "CLUSTER_CURVE_POINTS"
(
	"SESSION_ID" NUMBER(9,0),
	"CURVE_ID" NUMBER(9,0),
	"POSITION" NUMBER(9,0),
	"POWER" NUMBER(18,11),
	"PRICE" NUMBER(18,11)
);

ALTER TABLE "CLUSTER_CURVE_POINTS" ADD CONSTRAINT "CUP_PK" PRIMARY KEY ("SESSION_ID", "CURVE_ID", "POSITION") ENABLE;
ALTER TABLE "CLUSTER_CURVE_POINTS" ADD CONSTRAINT "CUP_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "CLUSTER_CURVE_POINTS" ADD CONSTRAINT "CUP_CURVE_ID_NN" CHECK ("CURVE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "CLUSTER_CURVE_POINTS" ADD CONSTRAINT "CUP_POSITION_NN" CHECK ("POSITION" IS NOT NULL) ENABLE;
ALTER TABLE "CLUSTER_CURVE_POINTS" ADD CONSTRAINT "CUP_POWER_NN" CHECK ("POWER" IS NOT NULL) ENABLE;
ALTER TABLE "CLUSTER_CURVE_POINTS" ADD CONSTRAINT "CUP_PRICE_NN" CHECK ("PRICE" IS NOT NULL) ENABLE;
ALTER TABLE "CLUSTER_CURVE_POINTS" ADD CONSTRAINT "CUP_POSITION_CK" CHECK ("POSITION" > 0) ENABLE;
--------------------------------------------------------
ALTER TABLE "CLUSTER_CURVE_POINTS" ADD CONSTRAINT "CUP_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "CLUSTER_CURVE_POINTS" ADD CONSTRAINT "CUP_CLUSTER_CURVE_HEADERS_FK" FOREIGN KEY ("SESSION_ID", "CURVE_ID")
	REFERENCES "CLUSTER_CURVE_HEADERS" ("SESSION_ID", "CURVE_ID") ENABLE;
--------------------------------------------------------
--  BLOCK_ORDER_EXCLUSIVE_GROUPS
--------------------------------------------------------
CREATE TABLE "BLOCK_ORDER_EXCLUSIVE_GROUPS"
(
	"SESSION_ID" NUMBER(9,0),
	"EXCLUSIVE_GROUP_ID" NUMBER(9,0),
	"NEMO_HUB_ID" NUMBER(9,0),
	"EXTERNAL_ID" VARCHAR2(50 CHAR)
);
--------------------------------------------------------
ALTER TABLE "BLOCK_ORDER_EXCLUSIVE_GROUPS" ADD CONSTRAINT "BEG_PK" PRIMARY KEY ("SESSION_ID", "EXCLUSIVE_GROUP_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_EXCLUSIVE_GROUPS" ADD CONSTRAINT "BEG_EXTERNAL_ID_UN" UNIQUE ("SESSION_ID", "NEMO_HUB_ID", "EXTERNAL_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_EXCLUSIVE_GROUPS" ADD CONSTRAINT "BEG_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_EXCLUSIVE_GROUPS" ADD CONSTRAINT "BEG_EXCLUSIVE_GROUP_ID_NN" CHECK ("EXCLUSIVE_GROUP_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_EXCLUSIVE_GROUPS" ADD CONSTRAINT "BEG_EXCLUSIVE_GROUP_ID_CK" CHECK ("EXCLUSIVE_GROUP_ID" >= 0) ENABLE;
ALTER TABLE "BLOCK_ORDER_EXCLUSIVE_GROUPS" ADD CONSTRAINT "BEG_NEMO_HUB_ID_NN" CHECK ("NEMO_HUB_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_EXCLUSIVE_GROUPS" ADD CONSTRAINT "BEG_EXTERNAL_ID_NN" CHECK ("EXTERNAL_ID" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "BLOCK_ORDER_EXCLUSIVE_GROUPS" ADD CONSTRAINT "BEG_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_EXCLUSIVE_GROUPS" ADD CONSTRAINT "BEG_NEMO_HUBS_FK" FOREIGN KEY ("SESSION_ID", "NEMO_HUB_ID")
	REFERENCES "NEMO_HUBS" ("SESSION_ID", "NEMO_HUB_ID") ENABLE;
--------------------------------------------------------
--  BLOCK_ORDERS
--------------------------------------------------------
CREATE TABLE "BLOCK_ORDERS"
(
	"SESSION_ID" NUMBER(9,0),
	"BLOCK_ID" NUMBER(9,0),
	"TIME_RESOLUTION" NUMBER(9,0),
	"NEMO_HUB_ID" NUMBER(9,0),
	"EXTERNAL_ID" VARCHAR2(50 CHAR),
	"TYPE" CHAR(3 CHAR),
	"TIME_STAMP" TIMESTAMP(3),
	"SIDE" CHAR(1 CHAR),
	"MIN_ACCEPTANCE_RATIO" NUMBER(6,5),
	"PRICE" NUMBER(18,11),
	"EXCLUSIVE_GROUP_ID" NUMBER(9,0),
	"HASH" VARCHAR2(32 CHAR)
);
--------------------------------------------------------
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_PK" PRIMARY KEY ("SESSION_ID", "BLOCK_ID") ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_EXTERNAL_ID_UN" UNIQUE ("SESSION_ID", "NEMO_HUB_ID", "EXTERNAL_ID") ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_BLOCK_ID_NN" CHECK ("BLOCK_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_BLOCK_ID_CK" CHECK ("BLOCK_ID" >= 0) ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_TIME_RESOLUTION_CK" CHECK ("TIME_RESOLUTION" IN (15, 30, 60)) ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_TIME_RESOLUTION_NN" CHECK ("TIME_RESOLUTION" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_NEMO_HUB_ID_NN" CHECK ("NEMO_HUB_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_EXTERNAL_ID_NN" CHECK ("EXTERNAL_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_TYPE_NN" CHECK ("TYPE" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_TIME_STAMP_NN" CHECK ("TIME_STAMP" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_SIDE_NN" CHECK ("SIDE" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_MIN_ACCEPTANCE_RATIO_NN" CHECK ("MIN_ACCEPTANCE_RATIO" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_PRICE_NN" CHECK ("PRICE" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_TYPE_CK" CHECK ("TYPE" IN ('C01', 'C02', 'C03', 'C04')) ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_SIDE_CK" CHECK ("SIDE" IN ('B', 'S')) ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_MIN_ACCEPTANCE_RATIO_CK" CHECK ("MIN_ACCEPTANCE_RATIO" BETWEEN 0 AND 1) ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_HASH_NN" CHECK ("HASH" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_NEMO_HUBS_FK" FOREIGN KEY ("SESSION_ID", "NEMO_HUB_ID")
	REFERENCES "NEMO_HUBS" ("SESSION_ID", "NEMO_HUB_ID") ENABLE;
ALTER TABLE "BLOCK_ORDERS" ADD CONSTRAINT "BOS_EXCLUSIVE_GROUPS_FK" FOREIGN KEY ("SESSION_ID", "EXCLUSIVE_GROUP_ID")
	REFERENCES "BLOCK_ORDER_EXCLUSIVE_GROUPS" ("SESSION_ID", "EXCLUSIVE_GROUP_ID") ENABLE;
--------------------------------------------------------
--  BLOCK_ORDER_PERIOD_CONSTRAINTS
--------------------------------------------------------
CREATE TABLE "BLOCK_ORDER_PERIOD_CONSTRAINTS"
(
	"SESSION_ID" NUMBER(9,0),
	"BLOCK_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"POWER" NUMBER(11,5)
);
--------------------------------------------------------
ALTER TABLE "BLOCK_ORDER_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BOC_PK" PRIMARY KEY ("SESSION_ID", "BLOCK_ID", "PERIOD") ENABLE;
ALTER TABLE "BLOCK_ORDER_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BOC_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BOC_BLOCK_ID_NN" CHECK ("BLOCK_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BOC_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BOC_POWER_NN" CHECK ("POWER" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BOC_POWER_CK" CHECK ("POWER" > 0) ENABLE;
--------------------------------------------------------
ALTER TABLE "BLOCK_ORDER_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BOC_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_PERIOD_CONSTRAINTS" ADD CONSTRAINT "BOC_BLOCK_ORDERS_FK" FOREIGN KEY ("SESSION_ID", "BLOCK_ID")
	REFERENCES "BLOCK_ORDERS" ("SESSION_ID", "BLOCK_ID") ENABLE;
--------------------------------------------------------
--  BLOCK_ORDER_LINKS
--------------------------------------------------------
CREATE TABLE "BLOCK_ORDER_LINKS"
(
	"SESSION_ID" NUMBER(9,0),
	"CHILD_BLOCK_ID" NUMBER(9,0),
	"PARENT_BLOCK_ID" NUMBER(9,0)
);
--------------------------------------------------------
ALTER TABLE "BLOCK_ORDER_LINKS" ADD CONSTRAINT "BOL_PK" PRIMARY KEY ("SESSION_ID", "CHILD_BLOCK_ID", "PARENT_BLOCK_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_LINKS" ADD CONSTRAINT "BOL_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_LINKS" ADD CONSTRAINT "BOL_CHILD_BLOCK_ID_NN" CHECK ("CHILD_BLOCK_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_LINKS" ADD CONSTRAINT "BOL_PARENT_BLOCK_ID_NN" CHECK ("PARENT_BLOCK_ID" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "BLOCK_ORDER_LINKS" ADD CONSTRAINT "BOL_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_LINKS" ADD CONSTRAINT "BOL_BLOCK_ORDERS_FK1" FOREIGN KEY ("SESSION_ID", "CHILD_BLOCK_ID")
	REFERENCES "BLOCK_ORDERS" ("SESSION_ID", "BLOCK_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_LINKS" ADD CONSTRAINT "BOL_BLOCK_ORDERS_FK2" FOREIGN KEY ("SESSION_ID", "PARENT_BLOCK_ID")
	REFERENCES "BLOCK_ORDERS" ("SESSION_ID", "BLOCK_ID") ENABLE;
--------------------------------------------------------
--  MERIT_ORDERS
--------------------------------------------------------
CREATE TABLE "MERIT_ORDERS"
(
	"SESSION_ID" NUMBER(9,0),
	"ORDER_ID" NUMBER(15,0),
	"PERIOD" NUMBER(9,0),
	"TYPE" VARCHAR2(6 CHAR),
	"MERIT_ORDER" NUMBER(9,0),
	"NEMO_HUB_ID" NUMBER(9,0),
	"POWER" NUMBER(18,11),
	"PRICE" NUMBER(18,11)
);
--------------------------------------------------------
ALTER TABLE "MERIT_ORDERS" ADD CONSTRAINT "MRT_PK" PRIMARY KEY ("SESSION_ID", "ORDER_ID") ENABLE;
ALTER TABLE "MERIT_ORDERS" ADD CONSTRAINT "MRT_MERIT_ORDER_UN" UNIQUE ("SESSION_ID", "PERIOD", "TYPE", "MERIT_ORDER") ENABLE;
ALTER TABLE "MERIT_ORDERS" ADD CONSTRAINT "MRT_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "MERIT_ORDERS" ADD CONSTRAINT "MRT_ORDER_ID_NN" CHECK ("ORDER_ID" IS NOT NULL) ENABLE;
ALTER TABLE "MERIT_ORDERS" ADD CONSTRAINT "MRT_ORDER_ID_CK" CHECK ("ORDER_ID" >= 0) ENABLE;
ALTER TABLE "MERIT_ORDERS" ADD CONSTRAINT "MRT_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "MERIT_ORDERS" ADD CONSTRAINT "MRT_TYPE_NN" CHECK ("TYPE" IS NOT NULL) ENABLE;
ALTER TABLE "MERIT_ORDERS" ADD CONSTRAINT "MRT_MERIT_ORDER_NN" CHECK ("MERIT_ORDER" IS NOT NULL) ENABLE;
ALTER TABLE "MERIT_ORDERS" ADD CONSTRAINT "MRT_NEMO_HUB_ID_NN" CHECK ("NEMO_HUB_ID" IS NOT NULL) ENABLE;
ALTER TABLE "MERIT_ORDERS" ADD CONSTRAINT "MRT_POWER_NN" CHECK ("POWER" IS NOT NULL) ENABLE;
ALTER TABLE "MERIT_ORDERS" ADD CONSTRAINT "MRT_PRICE_NN" CHECK ("PRICE" IS NOT NULL) ENABLE;
ALTER TABLE "MERIT_ORDERS" ADD CONSTRAINT "MRT_TYPE_CK" CHECK ("TYPE" IN ('DEMAND', 'SUPPLY', 'PUN')) ENABLE;
ALTER TABLE "MERIT_ORDERS" ADD CONSTRAINT "MRT_POWER_CK" CHECK ("POWER" >= 0) ENABLE;
--------------------------------------------------------
ALTER TABLE "MERIT_ORDERS" ADD CONSTRAINT "MRT_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "MERIT_ORDERS" ADD CONSTRAINT "MRT_NEMO_HUBS_FK" FOREIGN KEY ("SESSION_ID", "NEMO_HUB_ID")
	REFERENCES "NEMO_HUBS" ("SESSION_ID", "NEMO_HUB_ID") ENABLE;
CREATE INDEX "MRT_NTH_TYPE_IX" ON "MERIT_ORDERS" (SESSION_ID, NEMO_HUB_ID, TYPE);
--------------------------------------------------------
--  COMPLEX_ORDERS
--------------------------------------------------------
CREATE TABLE "COMPLEX_ORDERS"
(
	"SESSION_ID" NUMBER(9,0),
	"COMPLEX_ID" NUMBER(9,0),
	"NEMO_HUB_ID" NUMBER(9,0),
	"EXTERNAL_ID" VARCHAR2(50 CHAR),
	"TYPE" CHAR(3 CHAR),
	"TIME_STAMP" TIMESTAMP(3),
	"SIDE" CHAR(1 CHAR),
	"FIXED_TERM" NUMBER(18,11),
	"VARIABLE_TERM" NUMBER(18,11),
	"INCREASE_GRADIENT" NUMBER(11,5),
	"DECREASE_GRADIENT" NUMBER(11,5),
	"SCHEDULED_STOP_PERIODS" NUMBER(2,0),
	"TIME_RESOLUTION" NUMBER(9,0),
	"HASH" VARCHAR2(32 CHAR)
);
--------------------------------------------------------
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_PK" PRIMARY KEY ("SESSION_ID", "COMPLEX_ID") ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_EXTERNAL_ID_UN" UNIQUE ("SESSION_ID", "NEMO_HUB_ID", "EXTERNAL_ID") ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_COMPLEX_ID_NN" CHECK ("COMPLEX_ID" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_COMPLEX_ID_CK" CHECK ("COMPLEX_ID" >= 0) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_NEMO_HUB_ID_NN" CHECK ("NEMO_HUB_ID" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_EXTERNAL_ID_NN" CHECK ("EXTERNAL_ID" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_TYPE_NN" CHECK ("TYPE" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_TYPE_CK" CHECK ("TYPE" IN ('C01', 'C02')) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_TIME_STAMP_NN" CHECK ("TIME_STAMP" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_SIDE_NN" CHECK ("SIDE" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_FIXED_TERM_NN" CHECK ("FIXED_TERM" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_VARIABLE_TERM_NN" CHECK ("VARIABLE_TERM" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_SCHEDULED_STOP_PERIODS_NN" CHECK ("SCHEDULED_STOP_PERIODS" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_TIME_RESOLUTION_NN" CHECK ("TIME_RESOLUTION" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_SIDE_CK" CHECK ("SIDE" IN ('B', 'S')) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_FIXED_TERM_CK" CHECK ("FIXED_TERM" >= 0) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_VARIABLE_TERM_CK" CHECK ("VARIABLE_TERM" >= 0) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_INCREASE_GRADIENT_CK" CHECK ("INCREASE_GRADIENT" >= 0) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_DECREASE_GRADIENT_CK" CHECK ("DECREASE_GRADIENT" >= 0) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_SCHEDULED_STOP_PERIODS_CK" CHECK ("SCHEDULED_STOP_PERIODS" >= 0) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_TIME_RESOLUTION_CK" CHECK ("TIME_RESOLUTION" IN (15,30,60)) ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_HASH_NN" CHECK ("HASH" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "COMPLEX_ORDERS" ADD CONSTRAINT "COS_NEMO_HUBS_FK" FOREIGN KEY ("SESSION_ID", "NEMO_HUB_ID")
	REFERENCES "NEMO_HUBS" ("SESSION_ID", "NEMO_HUB_ID") ENABLE;
--------------------------------------------------------
--  COMPLEX_ORDER_POINTS
--------------------------------------------------------
CREATE TABLE "COMPLEX_ORDER_POINTS"
(
	"SESSION_ID" NUMBER(9,0),
	"COMPLEX_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"POSITION" NUMBER(9,0),
	"POWER" NUMBER(18,11),
	"PRICE" NUMBER(18,11)
);
--------------------------------------------------------
ALTER TABLE "COMPLEX_ORDER_POINTS" ADD CONSTRAINT "COP_PK" PRIMARY KEY ("SESSION_ID", "COMPLEX_ID", "PERIOD", "POSITION") ENABLE;
ALTER TABLE "COMPLEX_ORDER_POINTS" ADD CONSTRAINT "COP_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_POINTS" ADD CONSTRAINT "COP_COMPLEX_ID_NN" CHECK ("COMPLEX_ID" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_POINTS" ADD CONSTRAINT "COP_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_POINTS" ADD CONSTRAINT "COP_POSITION_NN" CHECK ("POSITION" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_POINTS" ADD CONSTRAINT "COP_POWER_NN" CHECK ("POWER" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_POINTS" ADD CONSTRAINT "COP_PRICE_NN" CHECK ("PRICE" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_POINTS" ADD CONSTRAINT "COP_POSITION_CK" CHECK ("POSITION" > 0) ENABLE;
ALTER TABLE "COMPLEX_ORDER_POINTS" ADD CONSTRAINT "COP_POWER_CK" CHECK ("POWER" >= 0) ENABLE;
--------------------------------------------------------
ALTER TABLE "COMPLEX_ORDER_POINTS" ADD CONSTRAINT "COP_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "COMPLEX_ORDER_POINTS" ADD CONSTRAINT "COP_COMPLEX_ORDERS_FK" FOREIGN KEY ("SESSION_ID", "COMPLEX_ID")
	REFERENCES "COMPLEX_ORDERS" ("SESSION_ID", "COMPLEX_ID") ENABLE;
--------------------------------------------------------
--  COMPLEX_ORDER_PERIOD_CONSTRAINTS
--------------------------------------------------------
CREATE TABLE "COMPLEX_ORDER_PERIOD_CONSTRAINTS"
(
	"SESSION_ID" NUMBER(9,0),
	"COMPLEX_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"MIN_ACCEPTANCE_POWER" NUMBER(18,11)
);
--------------------------------------------------------
ALTER TABLE "COMPLEX_ORDER_PERIOD_CONSTRAINTS" ADD CONSTRAINT "COPC_PK" PRIMARY KEY ("SESSION_ID", "COMPLEX_ID", "PERIOD") ENABLE;
ALTER TABLE "COMPLEX_ORDER_PERIOD_CONSTRAINTS" ADD CONSTRAINT "COPC_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_PERIOD_CONSTRAINTS" ADD CONSTRAINT "COPC_COMPLEX_ID_NN" CHECK ("COMPLEX_ID" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_PERIOD_CONSTRAINTS" ADD CONSTRAINT "COPC_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_PERIOD_CONSTRAINTS" ADD CONSTRAINT "COPC_MINACCEPTANCEPOWER_NN" CHECK ("MIN_ACCEPTANCE_POWER" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_PERIOD_CONSTRAINTS" ADD CONSTRAINT "COPC_MINACCEPTANCEPOWER_CK" CHECK ("MIN_ACCEPTANCE_POWER" >= 0) ENABLE;
--------------------------------------------------------
ALTER TABLE "COMPLEX_ORDER_PERIOD_CONSTRAINTS" ADD CONSTRAINT "COPC_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "COMPLEX_ORDER_PERIOD_CONSTRAINTS" ADD CONSTRAINT "COPC_COMPLEX_ORDERS_FK" FOREIGN KEY ("SESSION_ID", "COMPLEX_ID")
	REFERENCES "COMPLEX_ORDERS" ("SESSION_ID", "COMPLEX_ID") ENABLE;
--------------------------------------------------------
--  ALGORITHM_EVENTS
--------------------------------------------------------
CREATE TABLE "ALGORITHM_EVENTS"
(
	"SESSION_ID" NUMBER(9,0),
	"EVENT_ID" NUMBER(9,0),
	"WORKER_ID" VARCHAR2(39 CHAR),
	"ACTOR_ID" VARCHAR2(32 CHAR),
	"JOB_ID" NUMBER(9,0),
    "JOB_TYPE" VARCHAR2(16 CHAR),
	"TIME_STAMP" TIMESTAMP(3),
	"MESSAGE_CODE" NUMBER(9,0),
	"MESSAGE_TEXT" VARCHAR2(1000 CHAR)
);
--------------------------------------------------------
ALTER TABLE "ALGORITHM_EVENTS" ADD CONSTRAINT "AEV_PK" PRIMARY KEY ("SESSION_ID", "EVENT_ID") ENABLE;
ALTER TABLE "ALGORITHM_EVENTS" ADD CONSTRAINT "AEV_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_EVENTS" ADD CONSTRAINT "AEV_EVENT_ID_NN" CHECK ("EVENT_ID" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_EVENTS" ADD CONSTRAINT "AEV_TIME_STAMP_NN" CHECK ("TIME_STAMP" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_EVENTS" ADD CONSTRAINT "AEV_MESSAGE_CODE_NN" CHECK ("MESSAGE_CODE" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_EVENTS" ADD CONSTRAINT "AEV_MESSAGE_TEXT_NN" CHECK ("MESSAGE_TEXT" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "ALGORITHM_EVENTS" ADD CONSTRAINT "AEV_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
--------------------------------------------------------
--  ALGORITHM_AGGREGATION_EVENTS
--------------------------------------------------------
CREATE TABLE "ALGORITHM_AGGREGATION_EVENTS"
(
	"SESSION_ID" NUMBER(9,0),
	"EVENT_ID" NUMBER(9,0),
	"WORKER_ID" VARCHAR2(39 CHAR),
	"ACTOR_ID" VARCHAR2(32 CHAR),
	"JOB_ID" NUMBER(9,0),
	"JOB_TYPE" VARCHAR2(16 CHAR),
	"TIME_STAMP" TIMESTAMP(3),
	"MESSAGE_CODE" NUMBER(9,0),
	"MESSAGE_TEXT" VARCHAR2(1000 CHAR)
);
--------------------------------------------------------
ALTER TABLE "ALGORITHM_AGGREGATION_EVENTS" ADD CONSTRAINT "AGE_PK" PRIMARY KEY ("SESSION_ID", "EVENT_ID") ENABLE;
ALTER TABLE "ALGORITHM_AGGREGATION_EVENTS" ADD CONSTRAINT "AGE_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_AGGREGATION_EVENTS" ADD CONSTRAINT "AGE_EVENT_ID_NN" CHECK ("EVENT_ID" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_AGGREGATION_EVENTS" ADD CONSTRAINT "AGE_TIME_STAMP_NN" CHECK ("TIME_STAMP" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_AGGREGATION_EVENTS" ADD CONSTRAINT "AGE_MESSAGE_CODE_NN" CHECK ("MESSAGE_CODE" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_AGGREGATION_EVENTS" ADD CONSTRAINT "AGE_MESSAGE_TEXT_NN" CHECK ("MESSAGE_TEXT" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "ALGORITHM_AGGREGATION_EVENTS" ADD CONSTRAINT "AGE_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
--------------------------------------------------------
--  ALGORITHM_SOLUTIONS
--------------------------------------------------------
CREATE TABLE "ALGORITHM_SOLUTIONS"
(
	"SESSION_ID" NUMBER(9,0),
	"SOLUTION_ID" NUMBER(9,0),
	"WORKER_ID" VARCHAR2(39 CHAR),
	"ACTOR_ID" VARCHAR2(32 CHAR),
	"JOB_ID" NUMBER(9,0),
	"JOB_TYPE" VARCHAR2(16 CHAR),
	"TIME_STAMP" TIMESTAMP(3),
	"NODES" NUMBER(9,0),
	"DEPTH" NUMBER(9,0),
	"UTILITY" BINARY_DOUBLE,
	"GAP" BINARY_DOUBLE,
	"NUMBER_PR_BLOCKS" NUMBER(9,0),
	"MAX_DELTA_BLOCK" BINARY_DOUBLE,
	"TOTAL_DELTA_BLOCK" BINARY_DOUBLE,
	"UTILITY_LOSS_PR_BLOCKS" BINARY_DOUBLE,
	"NUMBER_PR_COMPLEX" NUMBER(9,0),
	"MAX_DELTA_COMPLEX" BINARY_DOUBLE,
	"TOTAL_DELTA_COMPLEX" BINARY_DOUBLE,
	"UTILITY_LOSS_PR_COMPLEX" BINARY_DOUBLE,
	"QUALITY" VARCHAR2(16 CHAR)
);
--------------------------------------------------------
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_PK" PRIMARY KEY ("SESSION_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_TIME_STAMP_NN" CHECK ("TIME_STAMP" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_NODES_NN" CHECK ("NODES" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_DEPTH_NN" CHECK ("DEPTH" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_UTILITY_NN" CHECK ("UTILITY" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_GAP_NN" CHECK ("GAP" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_NUMBER_PR_BLOCKS_NN" CHECK ("NUMBER_PR_BLOCKS" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_MAX_DELTA_BLOCK_NN" CHECK ("MAX_DELTA_BLOCK" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_TOTAL_DELTA_BLOCK_NN" CHECK ("TOTAL_DELTA_BLOCK" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_UTILITY_LOSS_PR_BLOCKS_NN" CHECK ("UTILITY_LOSS_PR_BLOCKS" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_NUMBER_PR_COMPLEX_NN" CHECK ("NUMBER_PR_COMPLEX" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_MAX_DELTA_COMPLEX_NN" CHECK ("MAX_DELTA_COMPLEX" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_TOTAL_DELTA_COMPLEX_NN" CHECK ("TOTAL_DELTA_COMPLEX" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_UTILITY_LOSS_PR_COMPLEX_NN" CHECK ("UTILITY_LOSS_PR_COMPLEX" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_QUALITY_NN" CHECK ("QUALITY" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "ALGORITHM_SOLUTIONS" ADD CONSTRAINT "SOL_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
--------------------------------------------------------
--  ALGORITHM_RESULTS
--------------------------------------------------------
CREATE TABLE "ALGORITHM_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"ACCEPTED_SOLUTION_ID" NUMBER(9,0),
	"NUMBER_SOLUTIONS" NUMBER(9,0),
	"START_TIME" TIMESTAMP(3),
	"END_TIME" TIMESTAMP(3),
	"NUMBER_TOTAL_EXPLORED_NODES" NUMBER(9,0),
	"FINAL_GAP" BINARY_DOUBLE
);
--------------------------------------------------------
ALTER TABLE "ALGORITHM_RESULTS" ADD CONSTRAINT "ARE_PK" PRIMARY KEY ("SESSION_ID") ENABLE;
ALTER TABLE "ALGORITHM_RESULTS" ADD CONSTRAINT "ARE_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_RESULTS" ADD CONSTRAINT "ARE_NUMBER_SOLUTIONS_NN" CHECK ("NUMBER_SOLUTIONS" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_RESULTS" ADD CONSTRAINT "ARE_START_TIME_NN" CHECK ("START_TIME" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_RESULTS" ADD CONSTRAINT "ARE_END_TIME_NN" CHECK ("END_TIME" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_RESULTS" ADD CONSTRAINT "ARE_NUMBER_TOTAL_EXPLORED_NODES_NN" CHECK ("NUMBER_TOTAL_EXPLORED_NODES" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "ALGORITHM_RESULTS" ADD CONSTRAINT "ARE_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "ALGORITHM_RESULTS" ADD CONSTRAINT "ARE_ALGORITHM_SOLUTIONS_FK" FOREIGN KEY ("SESSION_ID", "ACCEPTED_SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
--------------------------------------------------------
--  ALGORITHM_NODES
--------------------------------------------------------
CREATE TABLE "ALGORITHM_NODES"
(
	"SESSION_ID" NUMBER(9,0),
	"NODE_ID" NUMBER(9,0),
	"PARENT_NODE" NUMBER(9,0),
	"UTILITY" BINARY_DOUBLE,
	"LOWER_BOUND_UTILITY" BINARY_DOUBLE,
	"DEPTH" NUMBER(9,0),
	"DECISION" VARCHAR2(30 CHAR),
	"NUMBER_SOLUTIONS" NUMBER(9,0),
	"NUMBER_FRACTIONAL_BLOCKS" NUMBER(9,0),
	"NUMBER_FRACTIONAL_COMPLEX" NUMBER(9,0),
	"NUMBER_KILLS" NUMBER(9,0),
	"NUMBER_FILLS" NUMBER(9,0),
	"NUMBER_CUTS" NUMBER(9,0),
	"NUMBER_EXPLORED_NODES" NUMBER(9,0),
	"TIME_STAMP" TIMESTAMP(3)
);
--------------------------------------------------------
ALTER TABLE "ALGORITHM_NODES" ADD CONSTRAINT "ANO_PK" PRIMARY KEY ("SESSION_ID", "NODE_ID") ENABLE;
ALTER TABLE "ALGORITHM_NODES" ADD CONSTRAINT "ANO_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_NODES" ADD CONSTRAINT "ANO_NODE_ID_NN" CHECK ("NODE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_NODES" ADD CONSTRAINT "ANO_PARENT_NODE_NN" CHECK ("PARENT_NODE" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_NODES" ADD CONSTRAINT "ANO_UTILITY_NN" CHECK ("UTILITY" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_NODES" ADD CONSTRAINT "ANO_LOWER_BOUND_UTILITY_NN" CHECK ("LOWER_BOUND_UTILITY" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_NODES" ADD CONSTRAINT "ANO_DEPTH_NN" CHECK ("DEPTH" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_NODES" ADD CONSTRAINT "ANO_DECISION_NN" CHECK ("DECISION" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_NODES" ADD CONSTRAINT "ANO_NUMBER_SOLUTIONS_NN" CHECK ("NUMBER_SOLUTIONS" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_NODES" ADD CONSTRAINT "ANO_NUMBER_FRACTIONAL_BLOCKS_NN" CHECK ("NUMBER_FRACTIONAL_BLOCKS" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_NODES" ADD CONSTRAINT "ANO_NUMBER_FRACTIONAL_COMPLEX_NN" CHECK ("NUMBER_FRACTIONAL_COMPLEX" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_NODES" ADD CONSTRAINT "ANO_NUMBER_KILLS_NN" CHECK ("NUMBER_KILLS" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_NODES" ADD CONSTRAINT "ANO_NUMBER_FILLS_NN" CHECK ("NUMBER_FILLS" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_NODES" ADD CONSTRAINT "ANO_NUMBER_CUTS_NN" CHECK ("NUMBER_CUTS" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_NODES" ADD CONSTRAINT "ANO_NUMBER_EXPLORED_NODES_NN" CHECK ("NUMBER_EXPLORED_NODES" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_NODES" ADD CONSTRAINT "ANO_TIME_STAMP_NN" CHECK ("TIME_STAMP" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "ALGORITHM_NODES" ADD CONSTRAINT "ANO_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
--------------------------------------------------------
--  BIDDING_ZONE_DAILY_RESULTS
--------------------------------------------------------
CREATE TABLE "BIDDING_ZONE_DAILY_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"BIDDING_ZONE_ID" NUMBER(9,0),
	"SOLUTION_ID" NUMBER(9,0),
	"CUM_RAMPING_PRICE_DOWN" BINARY_DOUBLE,
	"CUM_RAMPING_PRICE_UP" BINARY_DOUBLE
);
--------------------------------------------------------
ALTER TABLE "BIDDING_ZONE_DAILY_RESULTS" ADD CONSTRAINT "BDR_PK" PRIMARY KEY ("SESSION_ID", "BIDDING_ZONE_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "BIDDING_ZONE_DAILY_RESULTS" ADD CONSTRAINT "BDR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_DAILY_RESULTS" ADD CONSTRAINT "BDR_BIDDING_ZONE_ID_NN" CHECK ("BIDDING_ZONE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_DAILY_RESULTS" ADD CONSTRAINT "BDR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_DAILY_RESULTS" ADD CONSTRAINT "BDR_CUM_RAMPING_PRICE_DOWN_NN" CHECK ("CUM_RAMPING_PRICE_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_DAILY_RESULTS" ADD CONSTRAINT "BDR_CUM_RAMPING_PRICE_UP_NN" CHECK ("CUM_RAMPING_PRICE_UP" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "BIDDING_ZONE_DAILY_RESULTS" ADD CONSTRAINT "BDR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "BIDDING_ZONE_DAILY_RESULTS" ADD CONSTRAINT "BDR_ALGORITHM_SOLUTIONS_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "BIDDING_ZONE_DAILY_RESULTS" ADD CONSTRAINT "BDR_BIDDING_ZONES_FK" FOREIGN KEY ("SESSION_ID", "BIDDING_ZONE_ID")
	REFERENCES "BIDDING_ZONES" ("SESSION_ID", "BIDDING_ZONE_ID") ENABLE;
ALTER TABLE "BIDDING_ZONE_DAILY_RESULTS" ADD CONSTRAINT "BDR_DAILYRAMPPARAMS_FK" FOREIGN KEY ("SESSION_ID", "BIDDING_ZONE_ID")
	REFERENCES "BIDDING_ZONE_DAILY_CONSTRAINTS" ("SESSION_ID", "BIDDING_ZONE_ID") ENABLE;
--------------------------------------------------------
--  FLOW_BASED_RESULTS
--------------------------------------------------------
CREATE TABLE "FLOW_BASED_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"MATRIX_ID" NUMBER(9,0),
	"ROW_ID" NUMBER(9,0),
	"SOLUTION_ID" NUMBER(9,0),
	"SHADOW_PRICE" BINARY_DOUBLE,
	"INTUITIVE_SHADOW_PRICE" BINARY_DOUBLE
);
--------------------------------------------------------
ALTER TABLE "FLOW_BASED_RESULTS" ADD CONSTRAINT "FBR_PK" PRIMARY KEY ("SESSION_ID", "MATRIX_ID", "ROW_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "FLOW_BASED_RESULTS" ADD CONSTRAINT "FBR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_RESULTS" ADD CONSTRAINT "FBR_MATRIX_ID_NN" CHECK ("MATRIX_ID" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_RESULTS" ADD CONSTRAINT "FBR_ROW_ID_NN" CHECK ("ROW_ID" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_RESULTS" ADD CONSTRAINT "FBR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_RESULTS" ADD CONSTRAINT "FBR_SHADOW_PRICE_NN" CHECK ("SHADOW_PRICE" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "FLOW_BASED_RESULTS" ADD CONSTRAINT "FBR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "FLOW_BASED_RESULTS" ADD CONSTRAINT "FBR_ALGORITHM_SOLUTIONS_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "FLOW_BASED_RESULTS" ADD CONSTRAINT "FBR_FLOW_BASED_HEADERS_FK" FOREIGN KEY ("SESSION_ID", "MATRIX_ID")
	REFERENCES "FLOW_BASED_HEADERS" ("SESSION_ID", "MATRIX_ID") ENABLE;
ALTER TABLE "FLOW_BASED_RESULTS" ADD CONSTRAINT "FBR_FLOW_BASED_CONSTRAINTS_FK" FOREIGN KEY ("SESSION_ID", "MATRIX_ID", "ROW_ID")
	REFERENCES "FLOW_BASED_CONSTRAINTS" ("SESSION_ID", "MATRIX_ID", "ROW_ID") ENABLE;
--------------------------------------------------------
--  LINESET_PERIOD_RESULTS
--------------------------------------------------------
CREATE TABLE "LINESET_PERIOD_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"LINESET_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"SOLUTION_ID" NUMBER(9,0),
	"SHADOW_PRICE_RAMPING_DOWN" BINARY_DOUBLE,
	"SHADOW_PRICE_RAMPING_UP" BINARY_DOUBLE,
	"SHADOW_PRICE_CAPACITY_DOWN" BINARY_DOUBLE,
	"SHADOW_PRICE_CAPACITY_UP" BINARY_DOUBLE,
	"SLACK_RAMPING_UP" BINARY_DOUBLE,
	"SLACK_RAMPING_DOWN" BINARY_DOUBLE
);
--------------------------------------------------------
ALTER TABLE "LINESET_PERIOD_RESULTS" ADD CONSTRAINT "LSR_PK" PRIMARY KEY ("SESSION_ID", "LINESET_ID", "PERIOD", "SOLUTION_ID") ENABLE;
ALTER TABLE "LINESET_PERIOD_RESULTS" ADD CONSTRAINT "LSR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "LINESET_PERIOD_RESULTS" ADD CONSTRAINT "LSR_LINESET_ID_NN" CHECK ("LINESET_ID" IS NOT NULL) ENABLE;
ALTER TABLE "LINESET_PERIOD_RESULTS" ADD CONSTRAINT "LSR_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "LINESET_PERIOD_RESULTS" ADD CONSTRAINT "LSR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "LINESET_PERIOD_RESULTS" ADD CONSTRAINT "LSR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "LINESET_PERIOD_RESULTS" ADD CONSTRAINT "LSR_ALGORITHM_SOLUTIONS_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "LINESET_PERIOD_RESULTS" ADD CONSTRAINT "LSR_LINESETS_FK" FOREIGN KEY ("SESSION_ID", "LINESET_ID")
	REFERENCES "LINESETS" ("SESSION_ID", "LINESET_ID") ENABLE;
ALTER TABLE "LINESET_PERIOD_RESULTS" ADD CONSTRAINT "LSR_LINESET_PERIOD_CONSTRAINTS_FK" FOREIGN KEY ("SESSION_ID", "LINESET_ID", "PERIOD")
	REFERENCES "LINESET_PERIOD_CONSTRAINTS" ("SESSION_ID", "LINESET_ID", "PERIOD") ENABLE;
--------------------------------------------------------
--  LINE_PERIOD_RESULTS
--------------------------------------------------------
CREATE TABLE "LINE_PERIOD_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"LINE_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"SOLUTION_ID" NUMBER(9,0),
	"FLOW_IN_DOWN" BINARY_DOUBLE,
	"FLOW_IN_UP" BINARY_DOUBLE,
	"ROUNDED_FLOW_IN_DOWN" NUMBER(11,5),
	"ROUNDED_FLOW_IN_UP" NUMBER(11,5),
	"FLOW_OUT_DOWN" BINARY_DOUBLE,
	"FLOW_OUT_UP" BINARY_DOUBLE,
	"ROUNDED_FLOW_OUT_DOWN" NUMBER(11,5),
	"ROUNDED_FLOW_OUT_UP" NUMBER(11,5),
	"NET_FLOW_IN_UP" BINARY_DOUBLE,
	"NET_FLOW_IN_DOWN" BINARY_DOUBLE,
	"ROUNDED_NET_FLOW_IN_UP" NUMBER(11,5),
	"ROUNDED_NET_FLOW_IN_DOWN" NUMBER(11,5),
	"NET_FLOW_OUT_UP" BINARY_DOUBLE,
	"NET_FLOW_OUT_DOWN" BINARY_DOUBLE,
	"ROUNDED_NET_FLOW_OUT_UP" NUMBER(11,5),
	"ROUNDED_NET_FLOW_OUT_DOWN" NUMBER(11,5),
	"TOTAL_FLOW_DOWN" BINARY_DOUBLE,
	"TOTAL_FLOW_UP" BINARY_DOUBLE,
	"SHADOW_PRICE_CAPACITY_DOWN" BINARY_DOUBLE,
	"SHADOW_PRICE_CAPACITY_UP" BINARY_DOUBLE,
	"SHADOW_PRICE_RAMPING_DOWN" BINARY_DOUBLE,
	"SHADOW_PRICE_RAMPING_UP" BINARY_DOUBLE,
	"SHADOW_PRICE_MSF_DOWN" BINARY_DOUBLE,
	"SHADOW_PRICE_MSF_UP" BINARY_DOUBLE,
	"SLACK_RAMPING_UP" BINARY_DOUBLE,
	"SLACK_RAMPING_DOWN" BINARY_DOUBLE
);
--------------------------------------------------------
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_PK" PRIMARY KEY ("SESSION_ID", "LINE_ID", "PERIOD", "SOLUTION_ID") ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_LINE_ID_NN" CHECK ("LINE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_FLOW_IN_DOWN_NN" CHECK ("FLOW_IN_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_FLOW_IN_UP_NN" CHECK ("FLOW_IN_UP" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_ROUNDED_FLOW_IN_DOWN_NN" CHECK ("ROUNDED_FLOW_IN_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_ROUNDED_FLOW_IN_UP_NN" CHECK ("ROUNDED_FLOW_IN_UP" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_FLOW_OUT_DOWN_NN" CHECK ("FLOW_OUT_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_FLOW_OUT_UP_NN" CHECK ("FLOW_OUT_UP" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_ROUNDED_FLOW_OUT_DOWN_NN" CHECK ("ROUNDED_FLOW_OUT_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_ROUNDED_FLOW_OUT_UP_NN" CHECK ("ROUNDED_FLOW_OUT_UP" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_NET_FLOW_IN_UP_NN" CHECK ("NET_FLOW_IN_UP" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_NET_FLOW_IN_DOWN_NN" CHECK ("NET_FLOW_IN_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_NET_FLOW_OUT_UP_NN" CHECK ("NET_FLOW_OUT_UP" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_NET_FLOW_OUT_DOWN_NN" CHECK ("NET_FLOW_OUT_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_ROUNDED_NET_FLOW_IN_UP_NN" CHECK ("ROUNDED_NET_FLOW_IN_UP" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_ROUNDED_NET_FLOW_IN_DOWN_NN" CHECK ("ROUNDED_NET_FLOW_IN_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_ROUNDED_NET_FLOW_OUT_UP_NN" CHECK ("ROUNDED_NET_FLOW_OUT_UP" IS NOT NULL) ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_ROUNDED_NET_FLOW_OUT_DOWN_NN" CHECK ("ROUNDED_NET_FLOW_OUT_DOWN" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_ALGORITHM_SOLUTIONS_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "LINE_PERIOD_RESULTS" ADD CONSTRAINT "LNR_LINES_FK" FOREIGN KEY ("SESSION_ID", "LINE_ID")
	REFERENCES "LINES" ("SESSION_ID", "LINE_ID") ENABLE;

--------------------------------------------------------
--  FLOW_BASED_LTA_RESULTS
--------------------------------------------------------
CREATE TABLE "FLOW_BASED_LTA_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"LINE_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"SOLUTION_ID" NUMBER(9,0),
	"FLOW_LTA_UP" BINARY_DOUBLE,
	"FLOW_LTA_DOWN" BINARY_DOUBLE,
	"SHADOW_PRICE_LTA_UP" BINARY_DOUBLE,
	"SHADOW_PRICE_LTA_DOWN" BINARY_DOUBLE
);
--------------------------------------------------------
ALTER TABLE "FLOW_BASED_LTA_RESULTS" ADD CONSTRAINT "LTR_PK" PRIMARY KEY ("SESSION_ID", "LINE_ID", "PERIOD", "SOLUTION_ID") ENABLE;
ALTER TABLE "FLOW_BASED_LTA_RESULTS" ADD CONSTRAINT "LTR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_LTA_RESULTS" ADD CONSTRAINT "LTR_LINE_ID_NN" CHECK ("LINE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_LTA_RESULTS" ADD CONSTRAINT "LTR_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "FLOW_BASED_LTA_RESULTS" ADD CONSTRAINT "LTR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "FLOW_BASED_LTA_RESULTS" ADD CONSTRAINT "LTR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "FLOW_BASED_LTA_RESULTS" ADD CONSTRAINT "LTR_ALGORITHM_SOLUTIONS_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "FLOW_BASED_LTA_RESULTS" ADD CONSTRAINT "LTR_LINES_FK" FOREIGN KEY ("SESSION_ID", "LINE_ID")
	REFERENCES "LINES" ("SESSION_ID", "LINE_ID") ENABLE;

--------------------------------------------------------
--  BALANCING_AREA_RESULTS
--------------------------------------------------------
CREATE TABLE "BALANCING_AREA_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"BALANCING_AREA_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"SOLUTION_ID" NUMBER(9,0),
	"LTA_USAGE" BINARY_DOUBLE
);

ALTER TABLE "BALANCING_AREA_RESULTS" ADD CONSTRAINT "BAR_PK" PRIMARY KEY ("SESSION_ID", "BALANCING_AREA_ID", "PERIOD", "SOLUTION_ID") ENABLE;
ALTER TABLE "BALANCING_AREA_RESULTS" ADD CONSTRAINT "BAR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BALANCING_AREA_RESULTS" ADD CONSTRAINT "BAR_BALANCING_AREA_ID_NN" CHECK ("BALANCING_AREA_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BALANCING_AREA_RESULTS" ADD CONSTRAINT "BAR_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "BALANCING_AREA_RESULTS" ADD CONSTRAINT "BAR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "BALANCING_AREA_RESULTS" ADD CONSTRAINT "BAR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "BALANCING_AREA_RESULTS" ADD CONSTRAINT "BAR_BALANCING_AREAS_FK" FOREIGN KEY ("SESSION_ID", "BALANCING_AREA_ID")
	REFERENCES "BALANCING_AREAS" ("SESSION_ID", "BALANCING_AREA_ID") ENABLE;
ALTER TABLE "BALANCING_AREA_RESULTS" ADD CONSTRAINT "BAR_ALGORITHM_SOLUTIONS_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;


--------------------------------------------------------
--  BIDDING_ZONE_RESULTS
--------------------------------------------------------
CREATE TABLE "BIDDING_ZONE_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"BIDDING_ZONE_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"TIME_RESOLUTION" NUMBER(9,0),
	"SOLUTION_ID" NUMBER(9,0),
	"MARKET_PRICE" BINARY_DOUBLE,
	"ROUNDED_MARKET_PRICE" NUMBER(12,6),
	"NET_POSITION" BINARY_DOUBLE,
	"ROUNDED_NET_POSITION" NUMBER(11,5),
	"ROUNDED_NET_POSITION_RAW" NUMBER(11,5),
	"NET_POSITION_FB_VIRGIN" BINARY_DOUBLE,
	"NET_POSITION_FB_LTA" BINARY_DOUBLE,
	"MATCHED_SUPPLY_POWER_CURVE" BINARY_DOUBLE,
	"MATCHED_SUPPLY_POWER_NON_CURVE" BINARY_DOUBLE,
	"MATCHED_SUPPLY_POWER_COMPLEX" BINARY_DOUBLE,
	"MATCHED_DEMAND_POWER_CURVE" BINARY_DOUBLE,
	"MATCHED_DEMAND_POWER_NON_CURVE" BINARY_DOUBLE,
	"MATCHED_DEMAND_POWER_COMPLEX" BINARY_DOUBLE,
	"PRODUCER_SURPLUS" BINARY_DOUBLE,
	"CONSUMER_SURPLUS" BINARY_DOUBLE,
	"SHADOW_PRICE_EXTCONSTRAINT_UP" BINARY_DOUBLE,
	"SHADOW_PRICE_EXTCONSTRAINT_DOWN" BINARY_DOUBLE,
	"MARKET_PRICE_NETWORK" BINARY_DOUBLE,
	"RAMPING_PRICE_DOWN" BINARY_DOUBLE,
	"RAMPING_PRICE_UP" BINARY_DOUBLE,
	"RESERVE_PRICE_DOWN" BINARY_DOUBLE,
	"RESERVE_PRICE_UP" BINARY_DOUBLE,
	"SLACK_RAMPING_UP" BINARY_DOUBLE,
	"SLACK_RAMPING_DOWN" BINARY_DOUBLE
);
--------------------------------------------------------
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_PK" PRIMARY KEY ("SESSION_ID", "BIDDING_ZONE_ID", "PERIOD", "SOLUTION_ID", "TIME_RESOLUTION") ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_BIDDING_ZONE_ID_NN" CHECK ("BIDDING_ZONE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_TIME_RESOLUTION_CK" CHECK ("TIME_RESOLUTION" IN (15, 30, 60)) ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_TIME_RESOLUTION_NN" CHECK ("TIME_RESOLUTION" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_MARKET_PRICE_NN" CHECK ("MARKET_PRICE" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_ROUNDED_MARKET_PRICE_NN" CHECK ("ROUNDED_MARKET_PRICE" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_SUPPLYPOWER_CURVE_NN" CHECK ("MATCHED_SUPPLY_POWER_CURVE" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_SUPPLYPOWER_NONCURVE_NN" CHECK ("MATCHED_SUPPLY_POWER_NON_CURVE" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_SUPPLYPOWER_COMPLEX_NN" CHECK ("MATCHED_SUPPLY_POWER_COMPLEX" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_DEMANDPOWER_CURVE_NN" CHECK ("MATCHED_DEMAND_POWER_CURVE" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_DEMANDPOWER_NONCURVE_NN" CHECK ("MATCHED_DEMAND_POWER_NON_CURVE" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_DEMANDPOWER_COMPLEX_NN" CHECK ("MATCHED_DEMAND_POWER_COMPLEX" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_PRODUCER_SURPLUS_NN" CHECK ("PRODUCER_SURPLUS" IS NOT NULL) ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_CONSUMER_SURPLUS_NN" CHECK ("CONSUMER_SURPLUS" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_BIDDING_ZONES_FK" FOREIGN KEY ("SESSION_ID", "BIDDING_ZONE_ID")
	REFERENCES "BIDDING_ZONES" ("SESSION_ID", "BIDDING_ZONE_ID") ENABLE;
ALTER TABLE "BIDDING_ZONE_RESULTS" ADD CONSTRAINT "BZR_ALGORITHM_SOLUTIONS_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
--------------------------------------------------------
--  SCHEDULING_AREA_RESULTS
--------------------------------------------------------
CREATE TABLE "SCHEDULING_AREA_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"SCHEDULING_AREA_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"TIME_RESOLUTION" NUMBER(9,0),
	"SOLUTION_ID" NUMBER (9,0),
	"NET_POSITION" BINARY_DOUBLE,
	"ROUNDED_NET_POSITION" NUMBER(11,5),
	"ROUNDED_NET_POSITION_RAW" NUMBER(11,5)
);
--------------------------------------------------------
ALTER TABLE "SCHEDULING_AREA_RESULTS" ADD CONSTRAINT "SAR_PK" PRIMARY KEY ("SESSION_ID", "SCHEDULING_AREA_ID", "PERIOD", "TIME_RESOLUTION", "SOLUTION_ID") ENABLE;
ALTER TABLE "SCHEDULING_AREA_RESULTS" ADD CONSTRAINT "SAR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_RESULTS" ADD CONSTRAINT "SAR_SCHEDULING_AREA_ID_NN" CHECK ("SCHEDULING_AREA_ID" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_RESULTS" ADD CONSTRAINT "SAR_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_RESULTS" ADD CONSTRAINT "SAR_TIME_RESOLUTION_CK" CHECK ("TIME_RESOLUTION" IN (15, 30, 60)) ENABLE;
ALTER TABLE "SCHEDULING_AREA_RESULTS" ADD CONSTRAINT "SAR_TIME_RESOLUTION_NN" CHECK ("TIME_RESOLUTION" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_RESULTS" ADD CONSTRAINT "SAR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "SCHEDULING_AREA_RESULTS" ADD CONSTRAINT "SAR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "SCHEDULING_AREA_RESULTS" ADD CONSTRAINT "SAR_SHEDULINGAREA_FK" FOREIGN KEY ("SESSION_ID", "SCHEDULING_AREA_ID")
	REFERENCES "SCHEDULING_AREAS" ("SESSION_ID", "SCHEDULING_AREA_ID") ENABLE;
ALTER TABLE "SCHEDULING_AREA_RESULTS" ADD CONSTRAINT "SAR_SOLUTION_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
--------------------------------------------------------
--  NEMO_HUB_RESULTS
--------------------------------------------------------
CREATE TABLE "NEMO_HUB_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"NEMO_HUB_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"TIME_RESOLUTION" NUMBER(9,0),
	"SOLUTION_ID" NUMBER (9,0),
	"NET_POSITION" BINARY_DOUBLE,
	"ROUNDED_NET_POSITION" NUMBER(11,5),
	"ROUNDED_NET_POSITION_RAW" NUMBER(11,5),
	"MATCHED_DEMAND_POWER_CURVE" BINARY_DOUBLE,
	"MATCHED_DEMAND_POWER_NON_CURVE" BINARY_DOUBLE,
	"MATCHED_DEMAND_POWER_COMPLEX" BINARY_DOUBLE,
	"MATCHED_SUPPLY_POWER_CURVE" BINARY_DOUBLE,
	"MATCHED_SUPPLY_POWER_NON_CURVE" BINARY_DOUBLE,
	"MATCHED_SUPPLY_POWER_COMPLEX" BINARY_DOUBLE,
	"CONSUMER_SURPLUS" BINARY_DOUBLE,
	"PRODUCER_SURPLUS" BINARY_DOUBLE
);
--------------------------------------------------------
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_PK" PRIMARY KEY ("SESSION_ID", "NEMO_HUB_ID", "PERIOD", "TIME_RESOLUTION", "SOLUTION_ID") ENABLE;
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_NEMO_HUB_ID_NN" CHECK ("NEMO_HUB_ID" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_TIME_RESOLUTION_CK" CHECK ("TIME_RESOLUTION" IN (15, 30, 60)) ENABLE;
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_TIME_RESOLUTION_NN" CHECK ("TIME_RESOLUTION" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_MATCHEDDEMAND_CURVE_NN" CHECK ("MATCHED_DEMAND_POWER_CURVE" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_MATCHEDDEMAND_NONCURVE_NN" CHECK ("MATCHED_DEMAND_POWER_NON_CURVE" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_MATCHEDDEMAND_COMPLEX_NN" CHECK ("MATCHED_DEMAND_POWER_COMPLEX" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_MATCHEDSUPPLY_CURVE_NN" CHECK ("MATCHED_SUPPLY_POWER_CURVE" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_MATCHEDSUPPLY_NONCURVE_NN" CHECK ("MATCHED_SUPPLY_POWER_NON_CURVE" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_MATCHEDSUPPLY_COMPLEX_NN" CHECK ("MATCHED_SUPPLY_POWER_COMPLEX" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_CONSUMER_SURPLUS_NN" CHECK ("CONSUMER_SURPLUS" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_PRODUCER_SURPLUS_NN" CHECK ("PRODUCER_SURPLUS" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_NEMOHUB_FK" FOREIGN KEY ("SESSION_ID", "NEMO_HUB_ID")
	REFERENCES "NEMO_HUBS" ("SESSION_ID", "NEMO_HUB_ID") ENABLE;
ALTER TABLE "NEMO_HUB_RESULTS" ADD CONSTRAINT "NHR_SOLUTION_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
--------------------------------------------------------
--  PUN_ORDER_RESULTS
--------------------------------------------------------
CREATE TABLE "PUN_ORDER_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"SOLUTION_ID" NUMBER(9,0),
	"PUN_PRICE" BINARY_DOUBLE,
	"ROUNDED_PUN_PRICE" NUMBER(18,11),
	"TOTAL_MARKET_IMBALANCE" BINARY_DOUBLE
);
--------------------------------------------------------
ALTER TABLE "PUN_ORDER_RESULTS" ADD CONSTRAINT "PNR_PK" PRIMARY KEY ("SESSION_ID", "PERIOD", "SOLUTION_ID") ENABLE;
ALTER TABLE "PUN_ORDER_RESULTS" ADD CONSTRAINT "PNR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "PUN_ORDER_RESULTS" ADD CONSTRAINT "PNR_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "PUN_ORDER_RESULTS" ADD CONSTRAINT "PNR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "PUN_ORDER_RESULTS" ADD CONSTRAINT "PNR_PUN_PRICE_NN" CHECK ("PUN_PRICE" IS NOT NULL) ENABLE;
ALTER TABLE "PUN_ORDER_RESULTS" ADD CONSTRAINT "PNR_ROUNDED_PUN_PRICE_NN" CHECK ("ROUNDED_PUN_PRICE" IS NOT NULL) ENABLE;
ALTER TABLE "PUN_ORDER_RESULTS" ADD CONSTRAINT "PNR_TOTAL_MARKET_IMBALANCE_NN" CHECK ("TOTAL_MARKET_IMBALANCE" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "PUN_ORDER_RESULTS" ADD CONSTRAINT "PNR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "PUN_ORDER_RESULTS" ADD CONSTRAINT "PNR_ALGORITHM_SOLUTIONS_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
--------------------------------------------------------
--  SCHEDULING_AREA_LINE_RESULTS
--------------------------------------------------------
CREATE TABLE "SCHEDULING_AREA_LINE_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"SCHEDULING_AREA_LINE_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"SOLUTION_ID" NUMBER(9,0),
	"FLOW_IN_UP" BINARY_DOUBLE,
	"FLOW_IN_DOWN" BINARY_DOUBLE,
	"FLOW_OUT_UP" BINARY_DOUBLE,
	"FLOW_OUT_DOWN" BINARY_DOUBLE,
	"ROUNDED_FLOW_IN_UP" NUMBER(11,5),
	"ROUNDED_FLOW_IN_DOWN" NUMBER(11,5),
	"ROUNDED_FLOW_OUT_UP" NUMBER(11,5),
	"ROUNDED_FLOW_OUT_DOWN" NUMBER(11,5)
);
--------------------------------------------------------
ALTER TABLE "SCHEDULING_AREA_LINE_RESULTS" ADD CONSTRAINT "SLR_PK" PRIMARY KEY ("SESSION_ID", "SCHEDULING_AREA_LINE_ID", "PERIOD", "SOLUTION_ID") ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINE_RESULTS" ADD CONSTRAINT "SLR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINE_RESULTS" ADD CONSTRAINT "SLR_SCHEDULING_AREA_LINE_ID_NN" CHECK ("SCHEDULING_AREA_LINE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINE_RESULTS" ADD CONSTRAINT "SLR_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINE_RESULTS" ADD CONSTRAINT "SLR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINE_RESULTS" ADD CONSTRAINT "SLR_FLOW_IN_UP_NN" CHECK ("FLOW_IN_UP" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINE_RESULTS" ADD CONSTRAINT "SLR_FLOW_IN_DOWN_NN" CHECK ("FLOW_IN_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINE_RESULTS" ADD CONSTRAINT "SLR_FLOW_OUT_UP_NN" CHECK ("FLOW_OUT_UP" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINE_RESULTS" ADD CONSTRAINT "SLR_FLOW_OUT_DOWN_NN" CHECK ("FLOW_OUT_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINE_RESULTS" ADD CONSTRAINT "SLR_ROUNDED_FLOW_IN_UP_NN" CHECK ("ROUNDED_FLOW_IN_UP" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINE_RESULTS" ADD CONSTRAINT "SLR_ROUNDED_FLOW_IN_DOWN_NN" CHECK ("ROUNDED_FLOW_IN_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINE_RESULTS" ADD CONSTRAINT "SLR_ROUNDED_FLOW_OUT_UP_NN" CHECK ("ROUNDED_FLOW_OUT_UP" IS NOT NULL) ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINE_RESULTS" ADD CONSTRAINT "SLR_ROUNDED_FLOW_OUT_DOWN_NN" CHECK ("ROUNDED_FLOW_OUT_DOWN" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "SCHEDULING_AREA_LINE_RESULTS" ADD CONSTRAINT "SLR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINE_RESULTS" ADD CONSTRAINT "SLR_SCHEDULINGAREALINE_FK" FOREIGN KEY ("SESSION_ID", "SCHEDULING_AREA_LINE_ID")
	REFERENCES "SCHEDULING_AREA_LINES" ("SESSION_ID", "SCHEDULING_AREA_LINE_ID") ENABLE;
ALTER TABLE "SCHEDULING_AREA_LINE_RESULTS" ADD CONSTRAINT "SLR_SOLUTION_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
--------------------------------------------------------
--  NEMO_HUB_LINE_RESULTS
--------------------------------------------------------
CREATE TABLE "NEMO_HUB_LINE_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"NEMO_HUB_LINE_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"SOLUTION_ID" NUMBER(9,0),
	"FLOW_IN_UP" BINARY_DOUBLE,
	"FLOW_IN_DOWN" BINARY_DOUBLE,
	"FLOW_OUT_UP" BINARY_DOUBLE,
	"FLOW_OUT_DOWN" BINARY_DOUBLE,
	"ROUNDED_FLOW_IN_UP" NUMBER(11,5),
	"ROUNDED_FLOW_IN_DOWN" NUMBER(11,5),
	"ROUNDED_FLOW_OUT_UP" NUMBER(11,5),
	"ROUNDED_FLOW_OUT_DOWN" NUMBER(11,5)
);
--------------------------------------------------------
ALTER TABLE "NEMO_HUB_LINE_RESULTS" ADD CONSTRAINT "NLR_PK" PRIMARY KEY ("SESSION_ID", "NEMO_HUB_LINE_ID", "PERIOD", "SOLUTION_ID") ENABLE;
ALTER TABLE "NEMO_HUB_LINE_RESULTS" ADD CONSTRAINT "NLR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_LINE_RESULTS" ADD CONSTRAINT "NLR_NEMO_HUB_LINE_ID_NN" CHECK ("NEMO_HUB_LINE_ID" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_LINE_RESULTS" ADD CONSTRAINT "NLR_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_LINE_RESULTS" ADD CONSTRAINT "NLR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_LINE_RESULTS" ADD CONSTRAINT "NLR_FLOW_IN_UP_NN" CHECK ("FLOW_IN_UP" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_LINE_RESULTS" ADD CONSTRAINT "NLR_FLOW_IN_DOWN_NN" CHECK ("FLOW_IN_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_LINE_RESULTS" ADD CONSTRAINT "NLR_FLOW_OUT_UP_NN" CHECK ("FLOW_OUT_UP" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_LINE_RESULTS" ADD CONSTRAINT "NLR_FLOW_OUT_DOWN_NN" CHECK ("FLOW_OUT_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_LINE_RESULTS" ADD CONSTRAINT "NLR_ROUNDED_FLOW_IN_UP_NN" CHECK ("ROUNDED_FLOW_IN_UP" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_LINE_RESULTS" ADD CONSTRAINT "NLR_ROUNDED_FLOW_IN_DOWN_NN" CHECK ("ROUNDED_FLOW_IN_DOWN" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_LINE_RESULTS" ADD CONSTRAINT "NLR_ROUNDED_FLOW_OUT_UP_NN" CHECK ("ROUNDED_FLOW_OUT_UP" IS NOT NULL) ENABLE;
ALTER TABLE "NEMO_HUB_LINE_RESULTS" ADD CONSTRAINT "NLR_ROUNDED_FLOW_OUT_DOWN_NN" CHECK ("ROUNDED_FLOW_OUT_DOWN" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "NEMO_HUB_LINE_RESULTS" ADD CONSTRAINT "NLR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "NEMO_HUB_LINE_RESULTS" ADD CONSTRAINT "NLR_NEMOHUBLINE_FK" FOREIGN KEY ("SESSION_ID", "NEMO_HUB_LINE_ID")
	REFERENCES "NEMO_HUB_LINES" ("SESSION_ID", "NEMO_HUB_LINE_ID") ENABLE;
ALTER TABLE "NEMO_HUB_LINE_RESULTS" ADD CONSTRAINT "NLR_SOLUTION_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
--------------------------------------------------------
--  BLOCK_ORDER_RESULTS
--------------------------------------------------------
CREATE TABLE "BLOCK_ORDER_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"BLOCK_ID" NUMBER(9,0),
	"SOLUTION_ID" NUMBER(9,0),
	"PR_STATUS" NUMBER(1,0),
	"DELTA_BLOCK" BINARY_DOUBLE,
	"DELTA_BLOCK_UNROUNDED" BINARY_DOUBLE,
	"ACCEPTANCE_RATIO" BINARY_DOUBLE
);
--------------------------------------------------------
ALTER TABLE "BLOCK_ORDER_RESULTS" ADD CONSTRAINT "BOR_PK" PRIMARY KEY ("SESSION_ID", "BLOCK_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_RESULTS" ADD CONSTRAINT "BOR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_RESULTS" ADD CONSTRAINT "BOR_BLOCK_ID_NN" CHECK ("BLOCK_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_RESULTS" ADD CONSTRAINT "BOR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_RESULTS" ADD CONSTRAINT "BOR_PR_STATUS_NN" CHECK ("PR_STATUS" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_RESULTS" ADD CONSTRAINT "BOR_DELTA_BLOCK_NN" CHECK ("DELTA_BLOCK" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_RESULTS" ADD CONSTRAINT "BOR_ACCEPTANCE_RATIO_NN" CHECK ("ACCEPTANCE_RATIO" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "BLOCK_ORDER_RESULTS" ADD CONSTRAINT "BOR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_RESULTS" ADD CONSTRAINT "BOR_ALGORITHM_SOLUTIONS_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_RESULTS" ADD CONSTRAINT "BOR_BLOCK_ORDERS_FK" FOREIGN KEY ("SESSION_ID", "BLOCK_ID")
	REFERENCES "BLOCK_ORDERS" ("SESSION_ID", "BLOCK_ID") ENABLE;
--------------------------------------------------------
--  BLOCK_ORDER_PERIOD_RESULTS
--------------------------------------------------------
CREATE TABLE "BLOCK_ORDER_PERIOD_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"BLOCK_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"SOLUTION_ID" NUMBER(9,0),
	"ACCEPTED_POWER" BINARY_DOUBLE,
	"ROUNDED_ACCEPTED_POWER" NUMBER(11,5)
);
--------------------------------------------------------
ALTER TABLE "BLOCK_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "BPR_PK" PRIMARY KEY ("SESSION_ID", "BLOCK_ID", "PERIOD", "SOLUTION_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "BPR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "BPR_BLOCK_ID_NN" CHECK ("BLOCK_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "BPR_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "BPR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "BPR_ACCEPTED_POWER_NN" CHECK ("ACCEPTED_POWER" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "BPR_ROUNDED_ACCEPTED_POWER_NN" CHECK ("ROUNDED_ACCEPTED_POWER" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "BLOCK_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "BPR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "BPR_ALGORITHM_SOLUTIONS_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "BPR_BLOCK_ORDERS_FK" FOREIGN KEY ("SESSION_ID", "BLOCK_ID")
	REFERENCES "BLOCK_ORDERS" ("SESSION_ID", "BLOCK_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "BPR_BLOCK_ORDER_PERIOD_CONSTRAINTS_FK" FOREIGN KEY ("SESSION_ID", "BLOCK_ID", "PERIOD")
	REFERENCES "BLOCK_ORDER_PERIOD_CONSTRAINTS" ("SESSION_ID", "BLOCK_ID", "PERIOD") ENABLE;
ALTER TABLE "BLOCK_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "BPR_BLOCK_ORDER_RESULTS_FK" FOREIGN KEY ("SESSION_ID", "BLOCK_ID", "SOLUTION_ID")
	REFERENCES "BLOCK_ORDER_RESULTS" ("SESSION_ID", "BLOCK_ID", "SOLUTION_ID") ENABLE;
--------------------------------------------------------
--  BLOCK_ORDER_LINK_RESULTS
--------------------------------------------------------
CREATE TABLE "BLOCK_ORDER_LINK_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"CHILD_BLOCK_ID" NUMBER(9,0),
	"PARENT_BLOCK_ID" NUMBER(9,0),
	"SOLUTION_ID" NUMBER(9,0),
	"SURPLUS_TRANSFER" BINARY_DOUBLE
);
--------------------------------------------------------
ALTER TABLE "BLOCK_ORDER_LINK_RESULTS" ADD CONSTRAINT "BLR_PK" PRIMARY KEY ("SESSION_ID", "CHILD_BLOCK_ID", "PARENT_BLOCK_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_LINK_RESULTS" ADD CONSTRAINT "BLR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_LINK_RESULTS" ADD CONSTRAINT "BLR_CHILD_BLOCK_ID_NN" CHECK ("CHILD_BLOCK_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_LINK_RESULTS" ADD CONSTRAINT "BLR_PARENT_BLOCK_ID_NN" CHECK ("PARENT_BLOCK_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_LINK_RESULTS" ADD CONSTRAINT "BLR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "BLOCK_ORDER_LINK_RESULTS" ADD CONSTRAINT "BLR_SURPLUS_TRANSFER_NN" CHECK ("SURPLUS_TRANSFER" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "BLOCK_ORDER_LINK_RESULTS" ADD CONSTRAINT "BLR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_LINK_RESULTS" ADD CONSTRAINT "BLR_ALGORITHM_SOLUTIONS_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_LINK_RESULTS" ADD CONSTRAINT "BLR_BLOCK_ORDER_LINKS_FK" FOREIGN KEY ("SESSION_ID", "CHILD_BLOCK_ID", "PARENT_BLOCK_ID")
	REFERENCES "BLOCK_ORDER_LINKS" ("SESSION_ID", "CHILD_BLOCK_ID", "PARENT_BLOCK_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_LINK_RESULTS" ADD CONSTRAINT "BLR_BLOCK_ORDERS_FK1" FOREIGN KEY ("SESSION_ID", "CHILD_BLOCK_ID")
	REFERENCES "BLOCK_ORDERS" ("SESSION_ID", "BLOCK_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_LINK_RESULTS" ADD CONSTRAINT "BLR_BLOCK_ORDERS_FK2" FOREIGN KEY ("SESSION_ID", "PARENT_BLOCK_ID")
	REFERENCES "BLOCK_ORDERS" ("SESSION_ID", "BLOCK_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_LINK_RESULTS" ADD CONSTRAINT "BLR_BLOCK_ORDER_RESULTS_FK1" FOREIGN KEY ("SESSION_ID", "CHILD_BLOCK_ID", "SOLUTION_ID")
	REFERENCES "BLOCK_ORDER_RESULTS" ("SESSION_ID", "BLOCK_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "BLOCK_ORDER_LINK_RESULTS" ADD CONSTRAINT "BLR_BLOCK_ORDER_RESULTS_FK2" FOREIGN KEY ("SESSION_ID", "PARENT_BLOCK_ID", "SOLUTION_ID")
	REFERENCES "BLOCK_ORDER_RESULTS" ("SESSION_ID", "BLOCK_ID", "SOLUTION_ID") ENABLE;
--------------------------------------------------------
--  MERIT_ORDER_RESULTS
--------------------------------------------------------
CREATE TABLE "MERIT_ORDER_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"ORDER_ID" NUMBER(15,0),
	"SOLUTION_ID" NUMBER(9,0),
	"ACCEPTED_POWER" BINARY_DOUBLE
);
--------------------------------------------------------
ALTER TABLE "MERIT_ORDER_RESULTS" ADD CONSTRAINT "MOR_PK" PRIMARY KEY ("SESSION_ID", "PERIOD", "ORDER_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "MERIT_ORDER_RESULTS" ADD CONSTRAINT "MOR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "MERIT_ORDER_RESULTS" ADD CONSTRAINT "MOR_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "MERIT_ORDER_RESULTS" ADD CONSTRAINT "MOR_ORDER_ID_NN" CHECK ("ORDER_ID" IS NOT NULL) ENABLE;
ALTER TABLE "MERIT_ORDER_RESULTS" ADD CONSTRAINT "MOR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "MERIT_ORDER_RESULTS" ADD CONSTRAINT "MOR_ACCEPTED_POWER_NN" CHECK ("ACCEPTED_POWER" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "MERIT_ORDER_RESULTS" ADD CONSTRAINT "MOR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "MERIT_ORDER_RESULTS" ADD CONSTRAINT "MOR_ALGORITHM_SOLUTIONS_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "MERIT_ORDER_RESULTS" ADD CONSTRAINT "MOR_MERIT_ORDERS_FK" FOREIGN KEY ("SESSION_ID", "ORDER_ID")
	REFERENCES "MERIT_ORDERS" ("SESSION_ID", "ORDER_ID") ENABLE;
--------------------------------------------------------
--  COMPLEX_ORDER_RESULTS
--------------------------------------------------------
CREATE TABLE "COMPLEX_ORDER_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"COMPLEX_ID" NUMBER(9,0),
	"SOLUTION_ID" NUMBER(9,0),
	"PR_STATUS" NUMBER(1,0),
	"DELTA_COMPLEX" BINARY_DOUBLE,
	"ACTIVATION" NUMBER(1,0)
);
--------------------------------------------------------
ALTER TABLE "COMPLEX_ORDER_RESULTS" ADD CONSTRAINT "COR_PK" PRIMARY KEY ("SESSION_ID", "COMPLEX_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "COMPLEX_ORDER_RESULTS" ADD CONSTRAINT "COR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_RESULTS" ADD CONSTRAINT "COR_COMPLEX_ID_NN" CHECK ("COMPLEX_ID" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_RESULTS" ADD CONSTRAINT "COR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_RESULTS" ADD CONSTRAINT "COR_PR_STATUS_NN" CHECK ("PR_STATUS" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_RESULTS" ADD CONSTRAINT "COR_DELTA_COMPLEX_NN" CHECK ("DELTA_COMPLEX" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_RESULTS" ADD CONSTRAINT "COR_ACTIVATION_NN" CHECK ("ACTIVATION" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "COMPLEX_ORDER_RESULTS" ADD CONSTRAINT "COR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "COMPLEX_ORDER_RESULTS" ADD CONSTRAINT "COR_ALGORITHM_SOLUTIONS_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "COMPLEX_ORDER_RESULTS" ADD CONSTRAINT "COR_COMPLEX_ORDERS_FK" FOREIGN KEY ("SESSION_ID", "COMPLEX_ID")
	REFERENCES "COMPLEX_ORDERS" ("SESSION_ID", "COMPLEX_ID") ENABLE;
--------------------------------------------------------
--  COMPLEX_ORDER_PERIOD_RESULTS
--------------------------------------------------------
CREATE TABLE "COMPLEX_ORDER_PERIOD_RESULTS"
(
	"SESSION_ID" NUMBER(9,0),
	"COMPLEX_ID" NUMBER(9,0),
	"PERIOD" NUMBER(9,0),
	"SOLUTION_ID" NUMBER(9,0),
	"ACCEPTED_POWER" BINARY_DOUBLE
);
--------------------------------------------------------
ALTER TABLE "COMPLEX_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "CPR_PK" PRIMARY KEY ("SESSION_ID", "COMPLEX_ID", "PERIOD", "SOLUTION_ID") ENABLE;
ALTER TABLE "COMPLEX_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "CPR_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "CPR_COMPLEX_ID_NN" CHECK ("COMPLEX_ID" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "CPR_PERIOD_NN" CHECK ("PERIOD" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "CPR_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "COMPLEX_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "CPR_ACCEPTED_POWER_NN" CHECK ("ACCEPTED_POWER" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "COMPLEX_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "CPR_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "COMPLEX_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "CPR_ALGORITHM_SOLUTIONS_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
ALTER TABLE "COMPLEX_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "CPR_COMPLEX_ORDERS_FK" FOREIGN KEY ("SESSION_ID", "COMPLEX_ID")
	REFERENCES "COMPLEX_ORDERS" ("SESSION_ID", "COMPLEX_ID") ENABLE;
ALTER TABLE "COMPLEX_ORDER_PERIOD_RESULTS" ADD CONSTRAINT "CPR_COMPLEX_ORDER_RESULTS_FK" FOREIGN KEY ("SESSION_ID", "COMPLEX_ID", "SOLUTION_ID")
	REFERENCES "COMPLEX_ORDER_RESULTS" ("SESSION_ID", "COMPLEX_ID", "SOLUTION_ID") ENABLE;
--------------------------------------------------------
--  ALGORITHM_OUTPUT_CHECKS
--------------------------------------------------------
CREATE TABLE "ALGORITHM_OUTPUT_CHECKS"
(
	"SESSION_ID" NUMBER(9,0),
	"SOLUTION_ID" NUMBER(9,0),
	"OBJECT_ID" VARCHAR2(256 CHAR),
	"CODE" VARCHAR2(5 CHAR),
	"OBJECT_TYPE" VARCHAR2(64 CHAR),
	"REFERENCE_0" NUMBER(15,0),
	"REFERENCE_1" NUMBER(15,0),
	"REFERENCE_2" NUMBER(15,0),
	"REFERENCE_3" NUMBER(15,0),
	"TOLERANCE" NUMBER(18,9),
	"GAP" BINARY_DOUBLE,
	"SEVERITY" VARCHAR2(10 CHAR)
);
--------------------------------------------------------
ALTER TABLE "ALGORITHM_OUTPUT_CHECKS" ADD CONSTRAINT "OPC_PK" PRIMARY KEY ("SESSION_ID", "SOLUTION_ID", "OBJECT_ID", "CODE") ENABLE;
ALTER TABLE "ALGORITHM_OUTPUT_CHECKS" ADD CONSTRAINT "OPC_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_OUTPUT_CHECKS" ADD CONSTRAINT "OPC_SOLUTION_ID_NN" CHECK ("SOLUTION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_OUTPUT_CHECKS" ADD CONSTRAINT "OPC_OBJECT_ID_NN" CHECK ("OBJECT_ID" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_OUTPUT_CHECKS" ADD CONSTRAINT "OPC_CODE_NN" CHECK ("CODE" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_OUTPUT_CHECKS" ADD CONSTRAINT "OPC_OBJECT_TYPE_NN" CHECK ("OBJECT_TYPE" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_OUTPUT_CHECKS" ADD CONSTRAINT "OPC_TOLERANCE_NN" CHECK ("TOLERANCE" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_OUTPUT_CHECKS" ADD CONSTRAINT "OPC_GAP_NN" CHECK ("GAP" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_OUTPUT_CHECKS" ADD CONSTRAINT "OPC_SEVERITY_NN" CHECK ("SEVERITY" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "ALGORITHM_OUTPUT_CHECKS" ADD CONSTRAINT "OPC_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
ALTER TABLE "ALGORITHM_OUTPUT_CHECKS" ADD CONSTRAINT "OPC_ALGORITHM_SOLUTIONS_FK" FOREIGN KEY ("SESSION_ID", "SOLUTION_ID")
	REFERENCES "ALGORITHM_SOLUTIONS" ("SESSION_ID", "SOLUTION_ID") ENABLE;
--------------------------------------------------------
--  SEQ_ALGORITHM_EVENTS_PK
--------------------------------------------------------
CREATE SEQUENCE "SEQ_ALGORITHM_EVENTS_PK" MINVALUE 1 MAXVALUE 999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE;
--------------------------------------------------------
--  SEQ_ALGORITHM_AGGREGATION_EVENTS_PK
--------------------------------------------------------
CREATE SEQUENCE "SEQ_ALGORITHM_AGGREGATION_EVENTS_PK" MINVALUE 1 MAXVALUE 999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE;
--------------------------------------------------------
--  ALGORITHM_CONFIGURATIONS
--------------------------------------------------------
CREATE TABLE "ALGORITHM_CONFIGURATIONS"
(
	"SESSION_ID" NUMBER(9,0),
	"VERSION" VARCHAR2(64 CHAR),
	"CONFIGURATION" VARCHAR2(2000 CHAR),
	"ALTERED" NUMBER(1,0)
);
--------------------------------------------------------
ALTER TABLE "ALGORITHM_CONFIGURATIONS" ADD CONSTRAINT "CNF_PK" PRIMARY KEY ("SESSION_ID") ENABLE;
ALTER TABLE "ALGORITHM_CONFIGURATIONS" ADD CONSTRAINT "CNF_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
--------------------------------------------------------
ALTER TABLE "ALGORITHM_CONFIGURATIONS" ADD CONSTRAINT "CNF_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
--------------------------------------------------------
--  ALGORITHM_INDICATORS
--------------------------------------------------------
CREATE TABLE "ALGORITHM_INDICATORS"
(
	"SESSION_ID" NUMBER(9,0),
	"WORKER_ID" VARCHAR2(39 CHAR),
    "ACTOR_ID" VARCHAR2(32 CHAR),
	"JOB_ID" NUMBER(9,0),
	"JOB_TYPE" VARCHAR2(16 CHAR),
	"INDICATOR_ID" VARCHAR2(64 CHAR),
	"VALUE" NUMBER(9,0)
);
--------------------------------------------------------
ALTER TABLE "ALGORITHM_INDICATORS" ADD CONSTRAINT "IND_PK" PRIMARY KEY ("SESSION_ID", "WORKER_ID", "JOB_ID", "ACTOR_ID", "INDICATOR_ID") ENABLE;
ALTER TABLE "ALGORITHM_INDICATORS" ADD CONSTRAINT "IND_SESSION_ID_NN" CHECK ("SESSION_ID" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_INDICATORS" ADD CONSTRAINT "IND_INDICATOR_ID_NN" CHECK ("INDICATOR_ID" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_INDICATORS" ADD CONSTRAINT "IND_VALUE_NN" CHECK ("VALUE" IS NOT NULL) ENABLE;
ALTER TABLE "ALGORITHM_INDICATORS" ADD CONSTRAINT "IND_JOB_ID_IN" CHECK ("INDICATOR_ID" NOT IN ('T_THREAD_WAITING', 'T_DB_READ') OR ("JOB_ID"=-1 AND "JOB_TYPE" IS NULL)) ENABLE;
--------------------------------------------------------
ALTER TABLE "ALGORITHM_INDICATORS" ADD CONSTRAINT "IND_SESSIONS_FK" FOREIGN KEY ("SESSION_ID")
	REFERENCES "SESSIONS" ("SESSION_ID") ENABLE;
--------------------------------------------------------
--  VIEWS
--------------------------------------------------------

--------------------------------------------------------
--  CLUSTER_COMPLEX_ORDERS
--------------------------------------------------------

CREATE VIEW "CLUSTER_COMPLEX_ORDERS" (
	"SESSION_ID",
	"COMPLEX_ID",
	"CLUSTER_ID",
	"EXTERNAL_ID",
	"TYPE",
	"TIME_STAMP",
	"SIDE",
	"FIXED_TERM",
	"VARIABLE_TERM",
	"INCREASE_GRADIENT",
	"DECREASE_GRADIENT",
	"SCHEDULED_STOP_PERIODS",
	"TIME_RESOLUTION",
	"HASH")
	AS SELECT
	COH.SESSION_ID,
	COH.COMPLEX_ID,
	BCL.CLUSTER_ID,
	COH.EXTERNAL_ID,
	COH.TYPE,
	COH.TIME_STAMP,
	COH.SIDE,
	COH.FIXED_TERM,
	COH.VARIABLE_TERM,
	COH.INCREASE_GRADIENT,
	COH.DECREASE_GRADIENT,
	COH.SCHEDULED_STOP_PERIODS,
	COH.TIME_RESOLUTION,
	COH.HASH
	FROM
	COMPLEX_ORDERS COH
	INNER JOIN NEMO_HUBS NH ON COH.NEMO_HUB_ID = NH.NEMO_HUB_ID AND COH.SESSION_ID = NH.SESSION_ID
	INNER JOIN SCHEDULING_AREAS SA ON NH.SCHEDULING_AREA_ID = SA.SCHEDULING_AREA_ID AND NH.SESSION_ID = SA.SESSION_ID
	INNER JOIN BIDDING_ZONES BA ON SA.BIDDING_ZONE_ID = BA.BIDDING_ZONE_ID AND SA.SESSION_ID = BA.SESSION_ID
	INNER JOIN BIDDING_ZONE_CLUSTERS BCL ON BCL.CLUSTER_ID = BA.CLUSTER_ID AND BCL.SESSION_ID = BA.SESSION_ID;

--------------------------------------------------------
--  CLUSTER_BLOCK_ORDERS
--------------------------------------------------------

CREATE VIEW "CLUSTER_BLOCK_ORDERS" (
    "SESSION_ID",
    "BLOCK_ID",
    "CLUSTER_ID",
    "EXTERNAL_ID",
    "TYPE",
    "TIME_STAMP",
    "SIDE",
    "MIN_ACCEPTANCE_RATIO",
    "PRICE",
    "EXCLUSIVE_GROUP_ID",
    "TIME_RESOLUTION",
    "HASH")
    AS SELECT
    BOH.SESSION_ID,
    BOH.BLOCK_ID,
    BCL.CLUSTER_ID,
    BOH.EXTERNAL_ID,
    BOH.TYPE,
    BOH.TIME_STAMP,
    BOH.SIDE,
    BOH.MIN_ACCEPTANCE_RATIO,
    BOH.PRICE,
    BOH.EXCLUSIVE_GROUP_ID,
    BOH.TIME_RESOLUTION,
    BOH.HASH
    FROM
    BLOCK_ORDERS BOH
    INNER JOIN NEMO_HUBS NH ON BOH.NEMO_HUB_ID = NH.NEMO_HUB_ID AND BOH.SESSION_ID = NH.SESSION_ID
    INNER JOIN SCHEDULING_AREAS SA ON NH.SCHEDULING_AREA_ID = SA.SCHEDULING_AREA_ID AND NH.SESSION_ID = SA.SESSION_ID
    INNER JOIN BIDDING_ZONES BA ON SA.BIDDING_ZONE_ID = BA.BIDDING_ZONE_ID AND SA.SESSION_ID = BA.SESSION_ID
    INNER JOIN BIDDING_ZONE_CLUSTERS BCL ON BCL.CLUSTER_ID = BA.CLUSTER_ID AND BCL.SESSION_ID = BA.SESSION_ID;
--------------------------------------------------------
--  CREATE TRIGGER COMPUTE HASH VALUES
--------------------------------------------------------
CREATE OR REPLACE TRIGGER "TBH_HASH"
	BEFORE INSERT OR UPDATE
	ON BLOCK_ORDERS
	FOR EACH ROW
	DECLARE
	 tbhhash VARCHAR2(32);
	BEGIN
	 SELECT
	 STANDARD_HASH(
	 TO_CHAR(:new.BLOCK_ID,'FM000000000') ||
	 TO_CHAR(:new.NEMO_HUB_ID,'FM000000000') ||
	 :new.EXTERNAL_ID ||
	 :new.TYPE ||
	 TO_CHAR(:new.TIME_STAMP,'YYYYMMDDHH24MISSFF9') ||
	 :new.SIDE ||
	 TO_CHAR(:new.MIN_ACCEPTANCE_RATIO,'FM0.00000') ||
	 TO_CHAR(:new.PRICE,'FM0000000.00000000000') ||
	 TO_CHAR(:new.EXCLUSIVE_GROUP_ID,'FM000000000') ||
	 TO_CHAR(:new.TIME_RESOLUTION,'FM000000000'),
	 'MD5'
	 ) AS hash_value
	 INTO tbhhash
	 FROM DUAL;
	 :new.hash := tbhhash;
	END tbh_hash;
/
CREATE OR REPLACE TRIGGER "TCH_HASH"
	BEFORE INSERT OR UPDATE
	ON COMPLEX_ORDERS
	FOR EACH ROW
	DECLARE
	 tchhash VARCHAR2(32);
	BEGIN
	 SELECT
	 STANDARD_HASH(
	 TO_CHAR(:new.COMPLEX_ID,'FM000000000') ||
	 TO_CHAR(:new.NEMO_HUB_ID,'FM000000000') ||
	 :new.EXTERNAL_ID ||
	 :new.TYPE ||
	 TO_CHAR(:new.TIME_STAMP,'YYYYMMDDHH24MISSFF9') ||
	 :new.SIDE ||
	 TO_CHAR(:new.FIXED_TERM,'FM0000000.00000000000') ||
	 TO_CHAR(:new.VARIABLE_TERM,'FM0000000.00000000000') ||
	 TO_CHAR(:new.INCREASE_GRADIENT,'FM000000.00000') ||
	 TO_CHAR(:new.DECREASE_GRADIENT,'FM000000.00000') ||
	 TO_CHAR(:new.SCHEDULED_STOP_PERIODS,'FM00') ||
	 TO_CHAR(:new.TIME_RESOLUTION,'FM000000000'),
	 'MD5'
	 ) AS hash_value
	 INTO tchhash
	 FROM DUAL;
	 :new.hash := tchhash;
	END tch_hash;
/

commit;
exit;
